"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[589],{10589:function(e,t,r){r.r(t);var s=r(29439),n=r(1413),a=r(47313),i=r(58467),l=r(24813),c=r(42832),o=r(61113),d=r(69099),u=r(57829),x=r(66835),p=r(23477),Z=r(24076),j=r(67478),m=r(57861),f=r(47305),g=r(9019),h=r(77970),b=r(19860),v=r(17551),w=r(45110),C=r(82138),y=r(50294),F=r(89688),R=r(73842),k=r(94044),P=r(7519),I=r(18682),S=r(35397),z=r(2244),H=r(71325),M=r(88298),T=r(89600),G=r(87354),N=r(35533),_=r(85387),B=r(46417);function W(e){var t=e.columns,r=e.data,s=e.axe,f=(0,b.Z)(),g=(0,i.s0)(),h=(0,l.Z)(f.breakpoints.down("sm")),y=(0,a.useMemo)((function(){return{Filter:S.zw}}),[]),F=(0,a.useMemo)((function(){return S.KR}),[]),R=(0,a.useMemo)((function(){return{filters:[{id:"status",value:""}],pageIndex:0,pageSize:5}}),[]),k=(0,w.useTable)({columns:t,data:r,filterTypes:F,defaultColumn:y,initialState:R,axe:s},w.useGlobalFilter,w.useFilters,w.useSortBy,w.useExpanded,w.usePagination,w.useRowSelect),z=k.getTableProps,M=k.getTableBodyProps,T=k.headerGroups,G=k.prepareRow,W=k.page,E=k.state,A=E.globalFilter,D=E.selectedRowIds,J=k.preGlobalFilteredRows,K=k.setGlobalFilter,O=(0,a.useRef)(null);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(c.Z,{direction:h?"column":"row",spacing:1,justifyContent:"space-between",alignItems:"center",sx:{p:3,pb:3},children:[(0,B.jsx)(c.Z,{direction:h?"column":"row",spacing:2,children:(0,B.jsx)(o.Z,{variant:"subtitle1",children:s.libelle+" : "+s.description})}),(0,B.jsx)(c.Z,{direction:h?"column":"row",spacing:2,children:(0,B.jsx)(S.KO,{preGlobalFilteredRows:J,globalFilter:A,setGlobalFilter:K,size:"small"})}),(0,B.jsxs)(c.Z,{direction:h?"column":"row",alignItems:"center",spacing:h?1:0,children:[(0,B.jsx)(P.c,{selected:Object.keys(D).length}),(0,B.jsx)(d.Z,{variant:"contained",startIcon:(0,B.jsx)(C.Z,{}),onClick:function(){(0,I.WI)((0,_.yR)()),(0,I.WI)((0,N.ck)()),g("/apps/axeparcours/create")},size:"small",children:(0,B.jsx)(H.Z,{id:"add-axeparcours"})}),(0,B.jsx)(P.ZZ,{data:r,filename:"axeparcours-list.csv"})]})]}),(0,B.jsx)(u.Z,{ref:O,children:(0,B.jsxs)(x.Z,(0,n.Z)((0,n.Z)({},z()),{},{children:[(0,B.jsx)(p.Z,{children:T.map((function(e,t){return(0,B.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},e.getHeaderGroupProps()),{},{sx:{"& > th:first-of-type":{width:"58px"}},children:e.headers.map((function(e,t){return(0,B.jsx)(j.Z,(0,n.Z)((0,n.Z)({align:"center"},e.getHeaderProps([{className:e.className}])),{},{children:(0,B.jsx)(P.RL,{column:e,sort:!0})}),t)}))}),t)}))}),(0,B.jsx)(m.Z,(0,n.Z)((0,n.Z)({},M()),{},{children:W.map((function(e,t){return G(e),(0,B.jsx)(a.Fragment,{children:(0,B.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},e.getRowProps()),{},{onClick:function(){e.toggleRowSelected()},sx:{cursor:"pointer",bgcolor:e.isSelected?(0,v.Fq)(f.palette.primary.lighter,.35):"inherit"},children:e.cells.map((function(e,t){return(0,B.jsx)(j.Z,(0,n.Z)((0,n.Z)({},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}),t)}))}))},t)}))}))]}))})]})}var E=function(e){var t,r=e.value;return(0,B.jsx)(o.Z,{variant:"subtitle1",children:r.length>0?null===(t=r.find((function(e){return 1==e.responsable})))||void 0===t?void 0:t.username:""})},A=function(e){var t=e.value;return(0,B.jsx)(o.Z,{variant:"subtitle1",children:(0,T.Z)(new Date(t),"dd/MM/yyyy")})},D=function(e){var t=e.row;return(0,B.jsx)(P.YQ,(0,n.Z)({},t.getToggleRowSelectedProps()))},J=function(e){var t=e.getToggleAllPageRowsSelectedProps;return(0,B.jsx)(P.YQ,(0,n.Z)({indeterminate:!0},t()))};t.default=function(){var e=(0,i.s0)(),t=(0,b.Z)(),r=(0,i.TH)().state,n=(0,a.useState)(1),l=(0,s.Z)(n,2),o=l[0],u=l[1],x=(0,I.v9)((function(e){return e.axeparcours.detail})),p=x.status,Z=x.DetailAxe,j=x.nbPages,m=x.error;(0,a.useEffect)((function(){}),[p]);var v=(0,a.useMemo)((function(){return[{title:"Row Selection",Header:J,accessor:"selection",Cell:D,disableSortBy:!0,disableFilters:!0},{Header:" Id",accessor:"id",className:"cell-center",disableFilters:!0},{Header:(0,B.jsx)(H.Z,{id:"name"}),accessor:"libelle",disableFilters:!0},{Header:(0,B.jsx)(H.Z,{id:"city"}),accessor:"district[0].ville",disableFilters:!0},{Header:(0,B.jsx)(H.Z,{id:"code-checkpoint"}),accessor:"code",disableFilters:!0},{Header:(0,B.jsx)(H.Z,{id:"created-on"}),accessor:"createat",Cell:A},{Header:(0,B.jsx)(H.Z,{id:"responsable"}),accessor:"users",disableFilters:!0,Cell:E},{Header:"Actions",className:"cell-center",disableSortBy:!0,Cell:function(r){return function(e,t,r){return(0,B.jsx)(c.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:(0,B.jsx)(f.Z,{title:(0,B.jsx)(H.Z,{id:"view"}),children:(0,B.jsx)(k.Z,{color:"secondary",onClick:function(r){r.stopPropagation(),(0,I.WI)((0,_.yR)()),(0,I.WI)((0,N.ck)()),(0,I.WI)((0,G.s2)({id:e.values.id})),t("/apps/checkpoints/details/".concat(e.values.id))},children:(0,B.jsx)(y.Z,{twoToneColor:r.palette.secondary.main})})})})}(r.row,e,t)}}]}),[]);return p==M.J_.loading?(0,B.jsx)(z.Z,{title:(0,B.jsx)(H.Z,{id:"loading"})}):p==M.J_.error?(0,B.jsx)(z.Z,{title:(0,B.jsx)(H.Z,{id:m})}):(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(F.Z,{content:!1,children:(null===Z||void 0===Z?void 0:Z.length)>0?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(R.Z,{children:(0,B.jsx)(W,{columns:v,data:Z,axe:r})}),(0,B.jsx)(g.ZP,{sx:{p:2,py:3},colSpan:9,children:(0,B.jsx)(g.ZP,{item:!0,sx:{mt:{xs:2,sm:0}},children:(0,B.jsx)(h.Z,{count:j,page:o,onChange:function(e,t){u(t)},color:"primary",variant:"combined"})})})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.Z,{direction:"row",justifyContent:"flex-end",spacing:1,sx:{p:2},children:(0,B.jsx)(d.Z,{variant:"contained",startIcon:(0,B.jsx)(C.Z,{}),onClick:function(){return e("/apps/axeparcours/create")},size:"small",children:(0,B.jsx)(H.Z,{id:"add-axeparcours"})})}),(0,B.jsx)(z.Z,{title:(0,B.jsx)(H.Z,{id:"no-checkpoint"})})]})})})}},50294:function(e,t,r){r.d(t,{Z:function(){return c}});var s=r(1413),n=r(47313),a={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:t}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:t}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:e}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:e}}]}},name:"eye",theme:"twotone"},i=r(20262),l=function(e,t){return n.createElement(i.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:a}))};l.displayName="EyeTwoTone";var c=n.forwardRef(l)}}]);