"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[5303],{7681:function(e,t,n){n.d(t,{D:function(){return c}});var i=n(9019),r=n(57829),s=n(85281),a=n(42832),o=n(61113),l=n(46417),c=function(e){var t=e.title;return(0,l.jsx)(i.ZP,{container:!0,spacing:3,children:(0,l.jsx)(i.ZP,{item:!0,xs:12,children:(0,l.jsxs)(i.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(i.ZP,{item:!0,children:(0,l.jsx)(r.Z,{sx:{display:"flex"},children:(0,l.jsx)(s.Z,{})})}),(0,l.jsx)(i.ZP,{item:!0,children:(0,l.jsx)(a.Z,{spacing:1,children:(0,l.jsx)(o.Z,{align:"center",variant:"h6",children:t})})})]})})})}},2244:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(9019),r=n(57829),s=n(42832),a=n(61113),o=n(93405),l=n(48119),c=n(84488),d=n(89688),x=n(73248),u=n(46417),h=function(){return(0,u.jsx)(d.Z,{border:!1,content:!1,boxShadow:!0,sx:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",borderRadius:2},children:(0,u.jsx)(o.Z,{sx:{p:2},children:(0,u.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,u.jsx)(i.ZP,{item:!0,xs:12,children:(0,u.jsxs)(s.Z,{flexDirection:"row",alignItems:"center",children:[(0,u.jsx)(l.Z,{children:(0,u.jsx)(x.Z,{style:{visibility:"inherit"}})}),(0,u.jsxs)(s.Z,{sx:{width:"100%",pl:2.5},children:[(0,u.jsx)(c.Z,{animation:!1,height:20,width:"80%"}),(0,u.jsx)(c.Z,{animation:!1,height:20,width:"40%"})]})]})}),(0,u.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,u.jsx)(c.Z,{animation:!1,height:20,width:45}),(0,u.jsx)(c.Z,{animation:!1,height:20}),(0,u.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,u.jsx)(c.Z,{animation:!1,height:20,width:90}),(0,u.jsx)(c.Z,{animation:!1,height:20,width:38})]})]}),(0,u.jsx)(i.ZP,{item:!0,xs:12,children:(0,u.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,u.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,u.jsx)(i.ZP,{item:!0,children:(0,u.jsx)(c.Z,{animation:!1,height:20,width:40})}),(0,u.jsx)(i.ZP,{item:!0,children:(0,u.jsx)(c.Z,{animation:!1,height:17,width:20})})]}),(0,u.jsx)(c.Z,{animation:!1,height:32,width:47})]})})]})})})},m=function(e){var t=e.title;return(0,u.jsx)(i.ZP,{container:!0,spacing:3,children:(0,u.jsx)(i.ZP,{item:!0,xs:12,children:(0,u.jsx)(r.Z,{sx:{p:{xs:2.5,sm:6},height:"calc(100vh - 192px)",display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"transparent"},children:(0,u.jsxs)(i.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,u.jsx)(i.ZP,{item:!0,children:(0,u.jsxs)(r.Z,{sx:{ml:-9,mb:{xs:-8,sm:-5}},children:[(0,u.jsx)(r.Z,{sx:{position:"relative"},children:(0,u.jsx)(h,{})}),(0,u.jsx)(r.Z,{sx:{position:"relative",top:-120,left:72},children:(0,u.jsx)(h,{})})]})}),(0,u.jsx)(i.ZP,{item:!0,children:(0,u.jsx)(s.Z,{spacing:1,children:(0,u.jsx)(a.Z,{align:"center",variant:"h4",children:t})})})]})})})})}},7519:function(e,t,n){n.d(t,{RL:function(){return w},YQ:function(){return _},ZZ:function(){return P},c:function(){return S},o1:function(){return I}});var i=n(45987),r=n(1413),s=n(47313),a=n(19860),o=n(17592),l=n(42832),c=n(57829),d=n(44758),x=n(66212),u=n(47305),h=n(24076),m=n(67478),p=n(61113),j=n(36287),f=n(53245),Z=n(10054),g=n(40737),v=n(6986),y=n(46417),b=["indeterminate"],w=function(e){var t=e.column,n=e.sort,i=(0,a.Z)();return(0,y.jsxs)(l.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,y.jsx)(c.Z,{sx:{width:"max-content"},children:t.render("Header")}),!t.disableSortBy&&(0,y.jsxs)(l.Z,(0,r.Z)((0,r.Z)({sx:{color:"secondary.light"}},n&&(0,r.Z)({},t.getHeaderProps(t.getSortByToggleProps()))),{},{children:[(0,y.jsx)(Z.Z,{style:{fontSize:"0.625rem",color:t.isSorted&&!t.isSortedDesc?i.palette.text.secondary:"inherit"}}),(0,y.jsx)(g.Z,{style:{fontSize:"0.625rem",marginTop:-2,color:t.isSortedDesc?i.palette.text.secondary:"inherit"}})]}))]})},_=(0,s.forwardRef)((function(e,t){var n=e.indeterminate,a=(0,i.Z)(e,b),o=(0,s.useRef)(),l=t||o;return(0,y.jsx)(d.Z,(0,r.Z)({indeterminate:n,ref:l},a))})),S=function(e){var t=e.selected;return(0,y.jsx)(y.Fragment,{children:t>0&&(0,y.jsx)(x.Z,{size:"small",label:"".concat(t," row(s) selected"),color:"secondary",variant:"light",sx:{position:"absolute",right:-1,top:-1,borderRadius:"0 4px 0 4px"}})})},P=((0,o.ZP)("div")((function(e){var t=e.theme,n=e.x,i=e.y;return{color:t.palette.text.secondary,position:"fixed",pointerEvents:"none",left:12,top:24,transform:"translate(".concat(n,"px, ").concat(i,"px)"),opacity:.6}})),function(e){var t=e.data,n=e.filename,i=e.headers;return(0,y.jsx)(f.CSVLink,{data:t,filename:n,headers:i,children:(0,y.jsx)(u.Z,{title:"CSV Export",children:(0,y.jsx)(v.Z,{style:{fontSize:"24px",color:"gray",marginTop:4,marginRight:4,marginLeft:4}})})})}),D=(0,o.ZP)(l.Z)((function(e){var t=e.theme;return{height:"400px","& .ant-empty-img-1":{fill:t.palette.mode===j.hY.DARK?t.palette.secondary[200]:t.palette.secondary[400]},"& .ant-empty-img-2":{fill:t.palette.secondary.light},"& .ant-empty-img-3":{fill:t.palette.mode===j.hY.DARK?t.palette.secondary.A200:t.palette.secondary[200]},"& .ant-empty-img-4":{fill:t.palette.mode===j.hY.DARK?t.palette.secondary.A300:t.palette.secondary.A100},"& .ant-empty-img-5":{fillOpacity:t.palette.mode===j.hY.DARK?"0.09":"0.95",fill:t.palette.mode===j.hY.DARK?t.palette.secondary.darker:t.palette.secondary.light}}})),I=function(e){var t=e.msg,n=e.colSpan;return(0,y.jsx)(h.Z,{children:(0,y.jsx)(m.Z,{colSpan:n,children:(0,y.jsxs)(D,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,y.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,y.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,y.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,y.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,y.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,y.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,y.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,y.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,y.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,y.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,y.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,y.jsx)(p.Z,{align:"center",color:"secondary",children:t})]})})})}},95303:function(e,t,n){n.r(t),n.d(t,{default:function(){return ye}});var i=n(29439),r=n(47313),s=n(85554),a=n(57829),o=n(9019),l=n(89840),c=n(83213),d=n(61113),x=n(42832),u=n(48310),h=n(89688),m=n(71325),p=n(88298),j=n(7681),f=n(46417),Z=function(e){var t=e.item,n=e.type,i=e.isLocal,r=e.percentage;return(0,f.jsxs)(l.Z,{divider:!0,children:[(0,f.jsx)(c.Z,{primary:(0,f.jsxs)(d.Z,{variant:"subtitle1",children:["  ",t.region_approvisionement]}),secondary:(0,f.jsx)(f.Fragment,{children:i&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d.Z,{color:"textSecondary",sx:{display:"inline"},children:["(",r,"%  ",(0,f.jsx)(m.Z,{id:"current-effectif"}),")"]})})})}),(0,f.jsxs)(x.Z,{alignItems:"flex-end",children:[(0,f.jsxs)(d.Z,{variant:"h5",color:"primary",children:[t.effectif_embarque," ",null===n||void 0===n?void 0:n.unit]}),(0,f.jsxs)(d.Z,{variant:"body2",color:"textSecondary",children:[t.tendance_regionale>=0?"+":"-",t.tendance_regionale,"%"]})]})]})},g=function(e){var t,n,i=e.type,r=e.isLocal,a=(0,s.v9)((function(e){return e.dashboard.supply})),l=a.status,c=a.result,x=null!==c&&void 0!==c&&c.approvisionement?c.approvisionement.total_effectif_embarque:0,g=null!==c&&void 0!==c&&c.import?c.import.total_effectif_embarque:0,v=Math.round(g/(x+g)*100),y=[];return y=r?null!==c&&void 0!==c&&null!==(t=c.import)&&void 0!==t&&t.tab?c.import.tab:[]:null!==c&&void 0!==c&&null!==(n=c.transit)&&void 0!==n&&n.tab?c.transit.tab:[],(0,f.jsxs)(o.ZP,{item:!0,xs:12,md:12,style:{marginTop:20},children:[(0,f.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,f.jsx)(o.ZP,{item:!0}),(0,f.jsx)(o.ZP,{item:!0,children:(0,f.jsxs)(d.Z,{variant:"h5",children:[(0,f.jsx)(m.Z,{id:r?"statistics-import":"statistics-transit"})," ",null===i||void 0===i?void 0:i.name," "]})})]}),l===p.J_.loading&&(0,f.jsx)(j.D,{title:"loading-chart"}),(0,f.jsx)(h.Z,{sx:{mt:2},content:!1,children:l===p.J_.succeed&&y&&(0,f.jsx)(f.Fragment,{children:y.length>0?(0,f.jsx)(u.Z,{sx:{p:0,"& .MuiListItemButton-root":{py:2}},children:y.map((function(e,t){return(0,f.jsx)(Z,{item:e,type:i,isLocal:r,percentage:v},t)}))}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Z,{style:{textAlign:"center",padding:10},variant:"h6",children:(0,f.jsx)(m.Z,{id:r?"no-importation":"no-transit"})})})})})]})},v=n(19860),y=n(6159),b=n(51405),w=n(94044),_=n(6986),S=function(e){var t=e.type,n=e.setType,i=(0,v.Z)(),r=(0,s.v9)((function(e){return e.betail.list})).betailTab;return(0,f.jsxs)(x.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:{xs:"center",sm:"flex-end"},sx:{mt:3,mr:2},children:[(0,f.jsx)(y.Z,{size:"small",value:t,onChange:function(e){return n(e.target.value)},children:null===r||void 0===r?void 0:r.map((function(e,t){return(0,f.jsxs)(b.Z,{value:e,children:[e.name," / ",e.name_english]},t)}))}),(0,f.jsx)(w.Z,{size:"small",sx:{border:"1px solid ".concat(i.palette.grey[400]),"&:hover":{backgroundColor:"transparent"}},children:(0,f.jsx)(_.Z,{style:{color:i.palette.grey[900]}})})]})},P=n(10054),D=n(40737),I=n(16132),C=function(e){var t=e.percentage,n=e.total,i=e.type,r=(0,I.u)();return(0,f.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsxs)(x.Z,{sx:{ml:2,mt:3},alignItems:{xs:"center",sm:"flex-start"},children:[(0,f.jsx)(x.Z,{direction:"row",alignItems:"center",children:t>0?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P.Z,{style:{color:r.palette.success.main,paddingRight:"4px"}}),(0,f.jsxs)(d.Z,{color:r.palette.success.main,children:[t,"%"]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(D.Z,{style:{color:r.palette.error.main,paddingRight:"4px"}}),(0,f.jsxs)(d.Z,{color:r.palette.error.main,children:[t,"%"]})]})}),(0,f.jsxs)(d.Z,{color:"textSecondary",sx:{display:"block"},children:[(0,f.jsx)(m.Z,{id:"effectif-total"})," ",n," ",null===i||void 0===i?void 0:i.unit]})]})})},k=n(1413),M=n(36287),R=n(25486),z=n(58446),A={chart:{type:"bar",height:430,toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"30%",borderRadius:4}},dataLabels:{enabled:!1},stroke:{show:!0,width:8,colors:["transparent"]},xaxis:{categories:["Adamaou","Centre","Est","Extr\xeame-Nord","Littoral","Nord","Nord-Ouest","Ouest","Sud","Sud-Ouest"]},yaxis:{title:{text:"Effectif"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return" ".concat(e," t\xeates")}}},legend:{show:!0,fontFamily:"'Public Sans', sans-serif",offsetX:10,offsetY:10,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:"50%",offsexX:2,offsexY:2},itemMargin:{horizontal:15,vertical:50}},responsive:[{breakpoint:600,options:{yaxis:{show:!1}}}]};function F(e,t){if(0===(null===t||void 0===t?void 0:t.length))return new Array(10).fill(0);var n=t.reduce((function(e,t){return e[t.region_approvisionement]=t.effectif_embarque,e}),{});return e.map((function(e){return n[e.name]||0}))}var J=function(){var e=(0,v.Z)(),t=(0,R.Z)(),n=t.mode,o=t.fontFamily,l=e.palette.text,c=l.primary,d=l.secondary,x=e.palette.divider,u=e.palette.warning.main,h=e.palette.primary.main,m=e.palette.success.dark,j=(0,s.v9)((function(e){return e.dashboard.supply})).result,Z=(0,s.v9)((function(e){return e.location.region})),g=Z.regionTab,y=Z.status,b=(0,r.useState)(A),w=(0,i.Z)(b,2),_=w[0],S=w[1],P=(0,r.useState)([]),D=(0,i.Z)(P,2),I=D[0],C=D[1];return(0,r.useEffect)((function(){if(y==p.J_.succeed){var e,t,n,i,r=F(g,j.approvisionement.tab),s=F(g,j.approvisionement.tab_prev_period);C([{name:"".concat(new Date(null===j||void 0===j||null===(e=j.date)||void 0===e||null===(t=e.now)||void 0===t?void 0:t.debut).toDateString()," - ").concat(new Date(null===j||void 0===j||null===(n=j.date)||void 0===n||null===(i=n.now)||void 0===i?void 0:i.fin).toDateString()),data:r},{name:"P\xe9riode pr\xe9c\xe9dente",data:s}])}}),[y]),(0,r.useEffect)((function(){S((function(e){return(0,k.Z)((0,k.Z)({},e),{},{colors:[u,h],xaxis:{labels:{style:{colors:[d,d,d,d,d,d]}}},yaxis:{labels:{style:{colors:[d]}}},grid:{borderColor:x},theme:{mode:n===M.hY.DARK?"dark":"light"},legend:{fontFamily:o,position:"top",horizontalAlign:"right",labels:{colors:"grey.500"}}})}))}),[n,c,d,x,u,h,m,o]),(0,f.jsx)(a.Z,{id:"chart",sx:{bgcolor:"transparent"},children:(0,f.jsx)(z.Z,{options:_,series:I,type:"bar",height:430})})},E=n(5120),L=n(2244),Y=function(e){var t,n,i=e.type,l=e.setType,c=e.start,x=e.end,u=(0,s.I0)(),Z=(0,s.v9)((function(e){return e.dashboard.supply})),g=Z.status,v=Z.result;return(0,r.useEffect)((function(){null!==i&&void 0!==i&&i.id&&c&&x?u((0,E.k)({debut:c,end:x,betail:i.id})):console.log("Not entering condition")}),[i,c,x]),(0,f.jsxs)(o.ZP,{item:!0,xs:5,md:6,children:[(0,f.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,f.jsxs)(d.Z,{variant:"h5",children:[" ",null===i||void 0===i?void 0:i.name," / ",null===i||void 0===i?void 0:i.name_english," : ",(0,f.jsx)(m.Z,{id:"statistics-supply"})]}),(0,f.jsx)(o.ZP,{item:!0})]}),(0,f.jsxs)(h.Z,{content:!1,sx:{mt:1.5},children:[(0,f.jsx)(o.ZP,{item:!0,children:(0,f.jsxs)(o.ZP,{container:!0,children:[(0,f.jsx)(C,{percentage:v?null===v||void 0===v||null===(t=v.approvisionement)||void 0===t?void 0:t.tendance_generale:0,total:v?null===v||void 0===v||null===(n=v.approvisionement)||void 0===n?void 0:n.total_effectif_embarque:0,type:i}),(0,f.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(S,{type:i,setType:l})})]})}),(0,f.jsxs)(a.Z,{sx:{pt:1},children:[g===p.J_.loading&&(0,f.jsx)(j.D,{title:"loading-chart"}),g===p.J_.succeed&&v&&(0,f.jsx)(J,{}),g===p.J_.succeed&&void 0==v&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Z,{style:{textAlign:"center",padding:10},variant:"h6",children:(0,f.jsx)(m.Z,{id:"no-data"})})}),g===p.J_.error&&(0,f.jsx)(L.Z,{title:(0,f.jsx)(m.Z,{id:"error-network"})})]})]})]})},T=n(16559),q=n(51629),N=n(70501),V=n(66835),H=n(23477),K=n(24076),B=n(67478),O=n(57861),X=n(82021),Q=n(59649),W=function(){var e=(0,s.v9)((function(e){return e.dashboard.indicator})).result;return(0,f.jsx)(q.Z,{component:N.Z,sx:{textAlign:"center"},children:(0,f.jsxs)(V.Z,{children:[(0,f.jsx)(H.Z,{children:(0,f.jsxs)(K.Z,{children:[(0,f.jsx)(B.Z,{children:(0,f.jsx)(m.Z,{id:"city"})}),(0,f.jsx)(B.Z,{children:(0,f.jsx)(m.Z,{id:"animals"})}),(0,f.jsx)(B.Z,{children:(0,f.jsx)(m.Z,{id:"Min."})}),(0,f.jsx)(B.Z,{children:(0,f.jsx)(m.Z,{id:"Max."})}),(0,f.jsx)(B.Z,{children:(0,f.jsx)(m.Z,{id:"Qte"})})]})}),(0,f.jsx)(O.Z,{children:e.map((function(e,t){return(0,f.jsxs)(K.Z,{children:[(0,f.jsx)(B.Z,{children:e.ville_name}),(0,f.jsx)(B.Z,{children:e.animal_name}),(0,f.jsxs)(B.Z,{children:[e.min_animal," "]}),(0,f.jsxs)(B.Z,{children:[e.max_animal," "]}),(0,f.jsx)(B.Z,{children:(0,f.jsxs)(d.Z,{style:{fontWeight:"bold"},color:e.qte_actuelle>=e.max_animal||e.qte_actuelle<=e.min_animal?"red":"green",children:[e.qte_actuelle>e.max_animal&&(0,f.jsx)(X.Z,{}),e.qte_actuelle<e.min_animal&&(0,f.jsx)(Q.Z,{}),e.qte_actuelle," ",e.unit]})})]},t)}))})]})})},U=function(e){var t=e.start,n=e.end,i=(0,s.I0)(),a=(0,s.v9)((function(e){return e.dashboard.indicator})).status;return(0,r.useEffect)((function(){t&&n?i((0,T.o)({debut:t,end:n})):console.log("Not entering condition")}),[t,n]),(0,f.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,f.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,f.jsx)(o.ZP,{item:!0}),(0,f.jsx)(d.Z,{variant:"h5",children:(0,f.jsx)(m.Z,{id:"stat-alerts"})})]}),a===p.J_.loading&&(0,f.jsx)(j.D,{title:"loading-chart"}),a===p.J_.error&&(0,f.jsx)(L.Z,{title:"error-network"}),a===p.J_.succeed&&(0,f.jsx)(W,{})]})},$=n(11577),G=n(43780),ee=n(24631),te=n(47131),ne=n(43295),ie=n.n(ne),re=n(31774),se=function(e){var t=e.date,n=e.setDate,i=e.label;return(0,f.jsx)(o.ZP,{item:!0,xs:8,md:4,marginX:2,children:(0,f.jsx)(ee.Z,{fullWidth:!0,label:(0,f.jsx)(m.Z,{id:i}),type:"date",defaultValue:t,onChange:function(e){n(e.target.value)},InputLabelProps:{shrink:!0}})})},ae=function(e){var t=e.startDate,n=e.setStartDate,i=e.endDate,r=e.setEndDate,s=e.componentRef,a=(0,I.u)();return(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsxs)(x.Z,{justifyContent:"space-between",sx:{p:1.25,borderColor:"primary.lighter",borderRadius:1,borderWidth:5,bgcolor:"white"},alignItems:"center",alignContent:"center",direction:"row",children:[(0,f.jsxs)(x.Z,{direction:"row",alignItems:"center",alignContent:"center",children:[(0,f.jsx)(d.Z,{children:(0,f.jsx)(m.Z,{id:"period"})}),(0,f.jsx)(se,{date:t,setDate:n,label:"start-date"}),(0,f.jsx)(se,{date:i,setDate:r,label:"end-date"})]}),(0,f.jsx)(x.Z,{direction:"row",justifyContent:"flex-end",children:(0,f.jsx)(ie(),{trigger:function(){return(0,f.jsx)(te.Z,{children:(0,f.jsx)(re.Z,{style:{color:a.palette.grey[900]}})})},content:function(){return s.current}})})]})})},oe=n(49998),le=n(95357),ce=n(65618),de=n(11330),xe={chart:{type:"donut",height:430,toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"30%",borderRadius:4}},dataLabels:{enabled:!0},stroke:{show:!0,width:8,colors:["transparent"]},fill:{opacity:1},tooltip:{y:{formatter:function(e){return" ".concat(e," t\xeates")}}},legend:{show:!0,fontFamily:"'Public Sans', sans-serif",offsetX:10,offsetY:10,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:"50%",offsexX:2,offsexY:2},itemMargin:{horizontal:15,vertical:50}},responsive:[{breakpoint:600,options:{yaxis:{show:!1}}}]},ue=function(e){var t=e.type,n=(0,v.Z)(),l=(0,R.Z)(),c=l.mode,x=l.fontFamily,u=n.palette.text,h=u.primary,p=u.secondary,j=n.palette.divider,Z=n.palette.warning.main,g=n.palette.primary.main,y=n.palette.success.dark,b=(0,s.v9)((function(e){return e.dashboard.type})).result,w=(0,r.useState)(xe),_=(0,i.Z)(w,2),S=_[0],P=_[1],D=(0,r.useState)([]),I=(0,i.Z)(D,2),C=I[0],A=I[1],F=(0,r.useState)([]),J=(0,i.Z)(F,2),E=J[0],L=J[1];return(0,r.useEffect)((function(){var e="animals"==t?b.result.animals:b.result.transport,n=e.map((function(e){return e.quantity}));A(n),L(e.map((function(e){return e.name})))}),[b.result]),(0,r.useEffect)((function(){P((function(e){return(0,k.Z)((0,k.Z)({},e),{},{colors:"animals"==t?de.iB:de.$V,labels:E,dataLabels:{offsetY:5},grid:{borderColor:j},theme:{mode:c===M.hY.DARK?"dark":"light"},legend:{fontFamily:x,horizontalAlign:"right",verticalAlign:"middle",labels:{colors:"grey.500"},itemMargin:{horizontal:2,vertical:5}}})}))}),[c,h,p,j,Z,g,y,x,E]),(0,f.jsxs)(o.ZP,{item:!0,xs:5,md:6,children:[(0,f.jsxs)(o.ZP,{container:!0,alignItems:"animals"==t?"right":"left",justifyContent:"space-between",children:[(0,f.jsxs)(d.Z,{variant:"h5",textAlign:"animals"==t?"right":"left",children:[(0,f.jsx)(m.Z,{id:"statistics"})," ",(0,f.jsx)(m.Z,{id:t})," "]}),(0,f.jsx)(o.ZP,{item:!0})]}),(0,f.jsx)(a.Z,{id:"chart",sx:{bgcolor:"transparent"},children:(0,f.jsx)(z.Z,{options:S,series:C,type:"donut",height:250})})]})},he=function(e){var t=e.start,n=e.end,i=(0,s.I0)();return(0,r.useEffect)((function(){t&&n?i((0,ce.U)({debut:t,end:n})):console.log("Not entering condition")}),[t,n]),(0,f.jsxs)(o.ZP,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:[(0,f.jsx)(ue,{type:"animals"}),(0,f.jsx)(ue,{type:"transports"})]})},me=n(7519),pe=function(e){var t=e.type,n=(0,s.v9)((function(e){return e.dashboard.type})).result,i="animals"==t?n.result.animals:n.result.transport;return(0,f.jsx)(o.ZP,{item:!0,xs:7,md:6,children:(0,f.jsx)(q.Z,{component:N.Z,children:(0,f.jsxs)(V.Z,{children:[(0,f.jsx)(H.Z,{children:(0,f.jsxs)(K.Z,{children:[(0,f.jsx)(B.Z,{children:(0,f.jsx)(m.Z,{id:t})}),(0,f.jsxs)(B.Z,{children:[" ",(0,oe._Q)(n.date.prev)," "]}),(0,f.jsx)(B.Z,{children:(0,oe._Q)(n.date.now)}),(0,f.jsx)(B.Z,{children:(0,f.jsx)(m.Z,{id:"variation"})})]})}),(0,f.jsx)(O.Z,{children:i.length>0?(0,f.jsx)(f.Fragment,{children:i.map((function(e,n){return(0,f.jsxs)(K.Z,{children:[(0,f.jsx)(B.Z,{children:e.name}),(0,f.jsxs)(B.Z,{children:[e.prev_effectif," ","animals"==t&&e.unit]}),(0,f.jsxs)(B.Z,{children:[e.quantity," ","animals"==t&&e.unit]}),(0,f.jsx)(B.Z,{children:(0,f.jsxs)(d.Z,{color:e.variation>=0?"green":"red",children:[e.variation>0&&(0,f.jsx)(X.Z,{}),e.variation<0&&(0,f.jsx)(Q.Z,{}),e.variation,"%"]})})]},n)}))}):(0,f.jsx)(me.o1,{msg:(0,f.jsx)(m.Z,{id:"no-reports"}),colSpan:6})})]})})})},je=function(e){var t=e.start,n=e.end,i=(0,s.I0)();return(0,r.useEffect)((function(){t&&n?i((0,ce.U)({debut:t,end:n})):console.log("Not entering condition")}),[t,n]),(0,f.jsxs)(o.ZP,{container:!0,item:!0,xs:12,spacing:5,justifyContent:"center",alignItems:"center",style:{marginTop:"8px"},children:[(0,f.jsx)(pe,{type:"animals"}),(0,f.jsx)(pe,{type:"transport"})]})},fe=function(e){var t=e.start,n=e.end,i=(0,s.I0)();return(0,r.useEffect)((function(){t&&n?i((0,ce.U)({debut:t,end:n})):console.log("Not entering condition")}),[t,n]),(0,f.jsxs)(o.ZP,{container:!0,item:!0,xs:12,children:[status===p.J_.loading&&(0,f.jsx)(j.D,{title:"loading-chart"}),status===p.J_.succeed&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(he,{}),(0,f.jsx)(je,{})]}),status===p.J_.error&&(0,f.jsx)(L.Z,{title:"error-network"})]})},Ze=function(e){var t=e.item,n=e.type,i=e.total;return(0,f.jsxs)(l.Z,{divider:!0,children:[(0,f.jsx)(c.Z,{primary:(0,f.jsxs)(d.Z,{variant:"subtitle1",children:["  ",t.name]}),secondary:(0,f.jsxs)(d.Z,{color:"textSecondary",sx:{display:"inline"},children:[Math.round(t.effectif/i*100),"% ",(0,f.jsx)(m.Z,{id:"current-effectif"})]})}),(0,f.jsx)(x.Z,{alignItems:"flex-end",children:(0,f.jsxs)(d.Z,{variant:"h5",color:"primary",children:[t.effectif," ",null===n||void 0===n?void 0:n.unit]})})]})},ge=function(e){var t=e.type,n=e.data,i=(0,s.v9)((function(e){return e.dashboard.supply})).result,r=null!==i&&void 0!==i&&i.approvisionement?i.approvisionement.total_effectif_embarque:0;return(0,f.jsx)(o.ZP,{item:!0,xs:12,md:12,style:{marginTop:20},children:(null===n||void 0===n?void 0:n.length)>0?(0,f.jsx)(u.Z,{sx:{p:0,"& .MuiListItemButton-root":{py:2}},children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,f.jsx)(Ze,{item:e,type:t,total:r},n)}))}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Z,{style:{textAlign:"center"},variant:"h6",children:(0,f.jsx)(m.Z,{id:"no-data"})})})})},ve=function(e){var t=e.type,n=(0,s.v9)((function(e){return e.dashboard.supply})),l=n.status,c=n.result,u=(0,s.v9)((function(e){return e.location.region})).regionTab,Z=(0,r.useState)(u[5]),g=(0,i.Z)(Z,2),v=g[0],w=g[1],_=(0,r.useState)([]),S=(0,i.Z)(_,2),P=S[0],D=S[1];return(0,r.useEffect)((function(){var e=[];if(null!==c&&void 0!==c&&c.appro_distric){var t=c.appro_distric.find((function(e){return e.region_approvisionement==v.name}));t&&(e=t)}D(e)}),[v,t,c]),(0,f.jsxs)(o.ZP,{item:!0,xs:5,md:6,children:[(0,f.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,f.jsx)(o.ZP,{item:!0}),(0,f.jsxs)(d.Z,{variant:"h5",children:[null===t||void 0===t?void 0:t.name," / ",null===t||void 0===t?void 0:t.name_english,(0,f.jsx)(m.Z,{id:"statistics-delivery"}),"  "]})]}),(0,f.jsxs)(h.Z,{content:!1,sx:{mt:1.5},children:[(0,f.jsx)(o.ZP,{item:!0,children:(0,f.jsxs)(o.ZP,{container:!0,children:[(0,f.jsx)(C,{percentage:P?P.tendance_regionale:0,total:P?P.effectif_embarque:0,type:t}),(0,f.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsxs)(x.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:{xs:"center",sm:"flex-end"},sx:{mt:3,mr:2},children:[(0,f.jsxs)(d.Z,{children:[(0,f.jsx)(m.Z,{id:"provenance"})," :"]}),(0,f.jsx)(y.Z,{size:"small",value:v,onChange:function(e){return w(e.target.value)},children:null===u||void 0===u?void 0:u.map((function(e,t){return(0,f.jsx)(b.Z,{value:e,children:e.name},t)}))})]})})]})}),(0,f.jsxs)(a.Z,{sx:{pt:1},children:[l===p.J_.loading&&(0,f.jsx)(j.D,{title:"loading-chart"}),l===p.J_.succeed&&c&&(0,f.jsx)(ge,{type:t,data:P.ville_destination}),l===p.J_.succeed&&void 0==c&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Z,{style:{textAlign:"center",padding:10},variant:"h6",children:(0,f.jsx)(m.Z,{id:"no-data"})})}),l===p.J_.error&&(0,f.jsx)(L.Z,{title:(0,f.jsx)(m.Z,{id:"error-network"})})]})]})]})},ye=function(){var e,t=(0,s.I0)(),n=(0,r.useRef)(null),l=(0,r.useState)({}),c=(0,i.Z)(l,2),d=c[0],x=c[1],u=(0,r.useState)((0,oe.bm)((0,oe.IS)())),h=(0,i.Z)(u,2),m=h[0],j=h[1],Z=(0,r.useState)((0,oe.bm)((0,oe.V7)())),v=(0,i.Z)(Z,2),y=v[0],b=v[1],w=(0,s.v9)((function(e){return e.betail.list})).betailTab,_=(0,s.v9)((function(e){return e.location.region.status})),S=(0,s.v9)((function(e){return e.betail.list.listStatus})),P=(0,s.v9)((function(e){return e.dashboard.type})).result;return(0,r.useEffect)((function(){t((0,le.Z8)()),t((0,G.J)())}),[]),(0,r.useEffect)((function(){S==p.J_.succeed&&x(w[0])}),[S]),S==p.J_.loading||_==p.J_.loading?(0,f.jsx)($.Z,{}):(0,f.jsx)(a.Z,{id:"print",ref:n,paddingX:2,bgcolor:"marron",children:(0,f.jsxs)(o.ZP,{container:!0,rowSpacing:4.5,columnSpacing:3,children:[(0,f.jsx)(ae,{startDate:m,setStartDate:j,endDate:y,setEndDate:b,componentRef:n}),(0,f.jsx)(o.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}}),(null===(e=P.result)||void 0===e?void 0:e.transport)&&(0,f.jsx)(fe,{start:m,end:y}),(0,f.jsx)(U,{start:m,end:y}),(0,f.jsx)(Y,{type:d,setType:x,start:m,end:y}),(0,f.jsx)(ve,{type:d,setType:x,start:m,end:y}),(0,f.jsx)(g,{type:d,isLocal:!0}),(0,f.jsx)(g,{type:d,isLocal:!1})]})})}},49998:function(e,t,n){n.d(t,{IS:function(){return r},V7:function(){return a},_Q:function(){return o},bm:function(){return i},o0:function(){return s}});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(i)};function r(){var e=new Date,t=e.getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n))}function s(e){var t=new Date(e),n=t.getDate().toString().padStart(2,"0"),i=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear(),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0");return"".concat(n,"/").concat(i,"/").concat(r," ").concat(s,":").concat(a)}function a(){var e=new Date,t=new Date(e),n=7-e.getDay();return t.setDate(e.getDate()+n),t.setHours(23,59,59,999),t}function o(e){var t=new Date(e.debut),n=new Date(e.fin),i=t.getDate().toString().padStart(2,"0"),r=n.getDate().toString().padStart(2,"0");return"".concat(i," - ").concat(r,"/").concat(n.getMonth()+1,"/").concat(n.getFullYear())}}}]);