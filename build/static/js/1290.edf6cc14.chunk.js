"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[1290],{2244:function(e,i,t){t.d(i,{Z:function(){return p}});var r=t(9019),n=t(57829),s=t(42832),c=t(61113),a=t(93405),o=t(48119),l=t(84488),d=t(89688),u=t(73248),x=t(46417),h=function(){return(0,x.jsx)(d.Z,{border:!1,content:!1,boxShadow:!0,sx:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",borderRadius:2},children:(0,x.jsx)(a.Z,{sx:{p:2},children:(0,x.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,x.jsx)(r.ZP,{item:!0,xs:12,children:(0,x.jsxs)(s.Z,{flexDirection:"row",alignItems:"center",children:[(0,x.jsx)(o.Z,{children:(0,x.jsx)(u.Z,{style:{visibility:"inherit"}})}),(0,x.jsxs)(s.Z,{sx:{width:"100%",pl:2.5},children:[(0,x.jsx)(l.Z,{animation:!1,height:20,width:"80%"}),(0,x.jsx)(l.Z,{animation:!1,height:20,width:"40%"})]})]})}),(0,x.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,x.jsx)(l.Z,{animation:!1,height:20,width:45}),(0,x.jsx)(l.Z,{animation:!1,height:20}),(0,x.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,x.jsx)(l.Z,{animation:!1,height:20,width:90}),(0,x.jsx)(l.Z,{animation:!1,height:20,width:38})]})]}),(0,x.jsx)(r.ZP,{item:!0,xs:12,children:(0,x.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,x.jsxs)(r.ZP,{container:!0,spacing:1,children:[(0,x.jsx)(r.ZP,{item:!0,children:(0,x.jsx)(l.Z,{animation:!1,height:20,width:40})}),(0,x.jsx)(r.ZP,{item:!0,children:(0,x.jsx)(l.Z,{animation:!1,height:17,width:20})})]}),(0,x.jsx)(l.Z,{animation:!1,height:32,width:47})]})})]})})})},p=function(e){var i=e.title;return(0,x.jsx)(r.ZP,{container:!0,spacing:3,children:(0,x.jsx)(r.ZP,{item:!0,xs:12,children:(0,x.jsx)(n.Z,{sx:{p:{xs:2.5,sm:6},height:"calc(100vh - 192px)",display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"transparent"},children:(0,x.jsxs)(r.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,x.jsx)(r.ZP,{item:!0,children:(0,x.jsxs)(n.Z,{sx:{ml:-9,mb:{xs:-8,sm:-5}},children:[(0,x.jsx)(n.Z,{sx:{position:"relative"},children:(0,x.jsx)(h,{})}),(0,x.jsx)(n.Z,{sx:{position:"relative",top:-120,left:72},children:(0,x.jsx)(h,{})})]})}),(0,x.jsx)(r.ZP,{item:!0,children:(0,x.jsx)(s.Z,{spacing:1,children:(0,x.jsx)(c.Z,{align:"center",variant:"h4",children:i})})})]})})})})}},31290:function(e,i,t){t.r(i);var r=t(93433),n=t(1413),s=t(29439),c=t(47313),a=t(35604),o=t(21933),l=t(47825),d=t(9019),u=t(24631),x=t(1550),h=t(15103),p=t(6159),Z=t(51405),j=t(66212),m=t(69099),f=t(89688),g=t(85554),b=t(88298),v=t(2244),_=t(71325),k=t(77970),P=t(68098),w=t(21157),S=t(45899),C=t(58467),y=t(85387),q=t(46417),I=o.Ry({libelle:o.Z_().required((0,q.jsx)(_.Z,{id:"axeparcours-formLibelle-required"})),description:o.Z_().required((0,q.jsx)(_.Z,{id:"axeparcours-formDescription-required"})).matches(/^[a-zA-Z0-9\s]*[a-zA-Z][a-zA-Z0-9\s]*$/,(0,q.jsx)(_.Z,{id:"checkpoint-name-characters"})),id_checkpoint:o.Z_().required((0,q.jsx)(_.Z,{id:"axeparcours-formid_checkpoint-required"}))});i.default=function(){var e=(0,g.I0)(),i=(0,C.TH)().state,t=(0,g.v9)((function(e){return e.checkpoint.list})),o=t.listStatus,J=t.checkpointsTab,E=t.nbPages,T=t.listError,V=(0,g.v9)((function(e){return e.axeparcours.edit})),A=V.editStatus,F=V.editError,D=(0,c.useState)([]),W=(0,s.Z)(D,2),z=W[0],B=W[1],R=(0,c.useState)([]),L=(0,s.Z)(R,2),H=L[0],$=L[1],G=(0,c.useState)(1),K=(0,s.Z)(G,2),M=K[0],N=K[1];(0,c.useEffect)((function(){e((0,w.k)({page:M})),O.setFieldValue("id",i.id),O.setFieldValue("libelle",i.libelle),O.setFieldValue("description",i.description),O.setFieldValue("id_checkpoint",i.checkpoints[0]),$(i.checkpoints);var t=J.filter((function(e){return i.checkpoints.includes(e.id)}));B(t||[])}),[]);var O=(0,a.TA)({initialValues:{id:"",libelle:"",description:"",id_checkpoint:""},validationSchema:I,onSubmit:function(i){var t=(0,n.Z)((0,n.Z)({},i),{},{checkpoints:H});e((0,y.I)(t))}});return o==b.J_.loading||A==b.J_.loading?(0,q.jsx)(v.Z,{title:(0,q.jsx)(_.Z,{id:"loading"})}):T==b.J_.error?(0,q.jsx)(v.Z,{title:(0,q.jsx)(_.Z,{id:T})}):F==b.J_.error?(0,q.jsx)(v.Z,{title:(0,q.jsx)(_.Z,{id:F})}):(0,q.jsx)(l.Z,{maxWidth:"sm",children:(0,q.jsx)(f.Z,{title:"Autocomplete",children:(0,q.jsx)("form",{onSubmit:O.handleSubmit,children:(0,q.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,q.jsx)(d.ZP,{item:!0,xs:12,children:(0,q.jsx)(u.Z,{name:"libelle",label:(0,q.jsx)(_.Z,{id:"axeparcours-formLibelle"}),type:"text",value:O.values.libelle,onChange:O.handleChange,fullWidth:!0,error:O.touched.libelle&&Boolean(O.errors.libelle),helperText:O.touched.libelle&&O.errors.libelle})}),(0,q.jsx)(d.ZP,{item:!0,xs:12,children:(0,q.jsx)(u.Z,{name:"description",label:(0,q.jsx)(_.Z,{id:"axeparcours-formDescription"}),type:"text",value:O.values.description,onChange:O.handleChange,fullWidth:!0,error:O.touched.description&&Boolean(O.errors.description),helperText:O.touched.description&&O.errors.description})}),(0,q.jsx)(d.ZP,{item:!0,xs:12,children:(0,q.jsxs)(x.Z,{fullWidth:!0,children:[(0,q.jsx)(h.Z,{children:(0,q.jsx)(_.Z,{id:"axeparcours-formCheckpoint"})}),(0,q.jsx)(p.Z,{name:"id_checkpoint",value:O.values.id_checkpoint,onChange:function(e){O.handleChange(e),function(e){var i=J.find((function(i){return i.id===e}));z.some((function(i){return i.id===e}))||(B((function(e){return[].concat((0,r.Z)(e),[i])})),$((function(i){return[].concat((0,r.Z)(i),[e])})))}(e.target.value)},error:O.touched.id_checkpoint&&Boolean(O.errors.id_checkpoint),helperText:O.touched.id_checkpoint&&O.errors.id_checkpoint,children:J.map((function(e,i){return(0,q.jsx)(Z.Z,{value:e.id,children:e.libelle},i)}))})]})}),(0,q.jsx)(d.ZP,{item:!0,xs:12,children:(0,q.jsx)(k.Z,{count:E,page:M,onChange:function(i,t){N(t),e((0,P.q_)({page:t,nbre_ligne:2})),O.setFieldValue("id_checkpoint","")}})}),(0,q.jsx)(d.ZP,{item:!0,xs:12,children:z.map((function(e,i){return(0,q.jsx)(j.Z,{label:e.libelle,onDelete:function(){return i=e,B((function(e){return e.filter((function(e){return e!==i}))})),void $((function(e){return e.filter((function(e){return e!==i.id}))}));var i}},i)}))}),(0,q.jsx)(d.ZP,{item:!0,xs:12,children:(0,q.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",children:(0,q.jsx)(_.Z,{id:"detailrapport-valider"})})}),(0,q.jsx)(S.Z,{})]})})})})}},45899:function(e,i,t){var r=t(36287),n=t(47313),s=t(71325),c=t(85554),a=t(35533),o=t(85387),l=t(68098),d=t(18530),u=t(88298),x=t(58467),h=t(46417);i.Z=function(){var e=(0,c.v9)((function(e){return e.axeparcours.create})),i=e.createStatus,t=e.createError,p=(0,c.v9)((function(e){return e.axeparcours.edit})),Z=p.editStatus,j=p.editError,m=(0,c.I0)(),f=(0,x.s0)();return(0,n.useEffect)((function(){i==u.J_.succeed&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:"add-axeparcours-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),m((0,l.q_)({page:1,nbre_ligne:r.iS})),m((0,a.ck)()),f("/apps/axeparcours/list/")),i==u.J_.error&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:t}),variant:"alert",alert:{color:"error"},close:!1})),m((0,a.ck)()))}),[i]),(0,n.useEffect)((function(){console.log("status edit",Z),Z==u.J_.succeed&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:"edit-axeparcours-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),m((0,l.q_)({page:1,nbre_ligne:r.iS})),m((0,a.ck)()),f("/apps/axeparcours/list/")),Z==u.J_.error&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:j}),variant:"alert",alert:{color:"error"},close:!1})),m((0,o.yR)()))}),[Z]),null}}}]);