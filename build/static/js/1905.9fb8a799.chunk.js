"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[1905],{41905:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var s=n(29439),i=n(47313),r=n(69099),a=n(51629),l=n(66835),c=n(23477),d=n(24076),o=n(67478),x=n(57861),Z=n(66212),j=n(9019),h=n(77970),u=n(94469),p=n(89688),m=n(36287),f=n(85554),g=n(5787),b=n(58467),v=n(5228),D=n(49998),S=n(71325),k=n(88298),_=n(2244),C=n(7519),w=n(60265),y=n(43909),I=n(73836),J=n(46417);function P(){var e=(0,f.I0)(),t=(0,b.s0)(),n=(0,i.useState)(1),P=(0,s.Z)(n,2),R=P[0],E=P[1],F=(0,i.useState)((0,D.bm)((0,D.IS)())),L=(0,s.Z)(F,2),W=L[0],z=L[1],M=(0,i.useState)((0,D.bm)((0,D.V7)())),V=(0,s.Z)(M,2),A=V[0],G=V[1],T=(0,i.useState)(!1),q=(0,s.Z)(T,2),B=q[0],H=q[1],K=(0,f.v9)((function(e){return e.rapport.listRapport})),N=K.ListRapport,O=K.nbPages,Q=K.status;(0,i.useEffect)((function(){e((0,g.I)({page:R,nbre_ligne:m.iS,start:W,end:A}))}),[R,W,A]);var U=function(){e((0,I.rR)()),H(!B)};return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(r.Z,{variant:"contained",color:"primary",onClick:U,children:(0,J.jsx)(S.Z,{id:"alerte-formRap-titre"})}),(0,J.jsxs)(p.Z,{title:(0,J.jsx)(S.Z,{id:"report-list"}),content:!1,secondary:(0,J.jsx)(v.Z,{startDate:W,setStartDate:z,endDate:A,setEndDate:G}),children:[Q==k.J_.loading&&(0,J.jsx)(_.Z,{title:(0,J.jsx)(S.Z,{id:"loading"})}),Q==k.J_.error&&(0,J.jsx)(_.Z,{title:(0,J.jsx)(S.Z,{id:"error-network"})}),Q==k.J_.succeed&&(0,J.jsxs)(a.Z,{children:[(0,J.jsxs)(l.Z,{sx:{minWidth:350},"aria-label":"simple table",children:[(0,J.jsx)(c.Z,{children:(0,J.jsxs)(d.Z,{children:[(0,J.jsx)(o.Z,{children:(0,J.jsx)(S.Z,{id:"checkpoint"})}),(0,J.jsx)(o.Z,{align:"center",children:(0,J.jsx)(S.Z,{id:"id-agent"})}),(0,J.jsx)(o.Z,{sx:{pl:3},children:(0,J.jsx)(S.Z,{id:"agent-collecte"})}),(0,J.jsx)(o.Z,{children:(0,J.jsx)(S.Z,{id:"effectif"})}),(0,J.jsx)(o.Z,{children:(0,J.jsx)(S.Z,{id:"validateur"})}),(0,J.jsx)(o.Z,{children:(0,J.jsx)(S.Z,{id:"status"})}),(0,J.jsx)(o.Z,{align:"center",children:(0,J.jsx)(S.Z,{id:"date"})})]})}),(0,J.jsx)(x.Z,{children:N.length>0?(0,J.jsx)(J.Fragment,{children:N.map((function(e,n){return(0,J.jsxs)(d.Z,{hover:!0,onClick:function(){!function(e){t("/apps/reports/details/".concat(e.date),{state:e})}(e)},children:[(0,J.jsx)(o.Z,{children:e.checkpoint}),(0,J.jsx)(o.Z,{sx:{pl:3},children:e.id_agent}),(0,J.jsx)(o.Z,{sx:{pl:3},children:e.agent}),(0,J.jsxs)(o.Z,{children:[e.effectif," ",(0,J.jsx)(S.Z,{id:"heads"})," "]}),(0,J.jsx)(o.Z,{children:e.validateur}),(0,J.jsx)(o.Z,{align:"center",children:(0,J.jsx)(Z.Z,{color:"VALIDE"==e.status?"success":"error",label:e.status,size:"small"})}),(0,J.jsx)(o.Z,{align:"center",children:(0,J.jsx)(Z.Z,{variant:"outline",color:"info",label:new Date(e.date).toLocaleDateString(),size:"small"})})]},n)}))}):(0,J.jsx)(C.o1,{msg:(0,J.jsx)(S.Z,{id:"no-reports"}),colSpan:6})})]}),(0,J.jsx)(j.ZP,{sx:{p:2,py:3},colSpan:9,children:(0,J.jsx)(j.ZP,{item:!0,sx:{mt:{xs:2,sm:0}},children:(0,J.jsx)(h.Z,{count:O,page:R,onChange:function(e,t){E(t)},color:"alert",variant:"combined"})})})]})]}),(0,J.jsx)(u.Z,{maxWidth:"sm",TransitionComponent:y.S,keepMounted:!0,fullWidth:!0,onClose:U,open:B,sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},"aria-describedby":"alert-dialog-slide-description",children:(0,J.jsx)(w.Z,{handleClose:U})})]})}},60265:function(e,t,n){n.d(t,{Z:function(){return b}});var s=n(29439),i=n(47313),r=n(11829),a=n(57829),l=n(69099),c=n(9019),d=n(61113),o=n(2244),x=n(71325),Z=n(89688),j=n(88298),h=n(49998),u=n(5228),p=n(85554),m=n(73836),f=n(7681),g=n(46417);function b(e){var t=e.handleClose,n=(0,p.I0)(),b=(0,i.useState)((0,h.bm)((0,h.IS)())),v=(0,s.Z)(b,2),D=v[0],S=v[1],k=(0,i.useState)((0,h.bm)(new Date)),_=(0,s.Z)(k,2),C=_[0],w=_[1],y=(0,p.v9)((function(e){return e.rapport.pdf})),I=y.status,J=y.error;return(0,g.jsxs)(Z.Z,{title:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(x.Z,{id:"alerte-formRap-titre"})}),content:!1,secondary:(0,g.jsx)(a.Z,{sx:{position:"relative",height:"50px",width:"100%"},children:(0,g.jsx)(l.Z,{color:"primary",onClick:t,sx:{position:"absolute",top:0,right:0},children:(0,g.jsx)(r.Z,{})})}),children:[(0,g.jsxs)(c.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(u.Z,{startDate:D,setStartDate:S,endDate:C,setEndDate:w}),(0,g.jsx)(c.ZP,{item:!0,children:(0,g.jsx)(l.Z,{variant:"contained",color:"primary",onClick:function(){n((0,m.sG)({start:D,end:C}))},children:(0,g.jsx)(x.Z,{id:"download"})})})]}),I==j.J_.loading&&(0,g.jsx)(f.D,{title:"loading"}),I==j.J_.succeed&&(0,g.jsx)(d.Z,{children:"Le PDF a \xe9t\xe9 t\xe9l\xe9charg\xe9 avec succ\xe8s"}),I==j.J_.error&&(0,g.jsx)(o.Z,{title:(0,g.jsx)(x.Z,{id:J})})]})}}}]);