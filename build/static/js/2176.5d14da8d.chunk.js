"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[2176],{2244:function(e,n,t){t.d(n,{Z:function(){return x}});var i=t(9019),a=t(57829),r=t(42832),o=t(61113),l=t(93405),s=t(48119),c=t(84488),d=t(89688),u=t(73248),h=t(46417),m=function(){return(0,h.jsx)(d.Z,{border:!1,content:!1,boxShadow:!0,sx:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",borderRadius:2},children:(0,h.jsx)(l.Z,{sx:{p:2},children:(0,h.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsxs)(r.Z,{flexDirection:"row",alignItems:"center",children:[(0,h.jsx)(s.Z,{children:(0,h.jsx)(u.Z,{style:{visibility:"inherit"}})}),(0,h.jsxs)(r.Z,{sx:{width:"100%",pl:2.5},children:[(0,h.jsx)(c.Z,{animation:!1,height:20,width:"80%"}),(0,h.jsx)(c.Z,{animation:!1,height:20,width:"40%"})]})]})}),(0,h.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,h.jsx)(c.Z,{animation:!1,height:20,width:45}),(0,h.jsx)(c.Z,{animation:!1,height:20}),(0,h.jsxs)(r.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,h.jsx)(c.Z,{animation:!1,height:20,width:90}),(0,h.jsx)(c.Z,{animation:!1,height:20,width:38})]})]}),(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsxs)(r.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,h.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(c.Z,{animation:!1,height:20,width:40})}),(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(c.Z,{animation:!1,height:17,width:20})})]}),(0,h.jsx)(c.Z,{animation:!1,height:32,width:47})]})})]})})})},x=function(e){var n=e.title;return(0,h.jsx)(i.ZP,{container:!0,spacing:3,children:(0,h.jsx)(i.ZP,{item:!0,xs:12,children:(0,h.jsx)(a.Z,{sx:{p:{xs:2.5,sm:6},height:"calc(100vh - 192px)",display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"transparent"},children:(0,h.jsxs)(i.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsxs)(a.Z,{sx:{ml:-9,mb:{xs:-8,sm:-5}},children:[(0,h.jsx)(a.Z,{sx:{position:"relative"},children:(0,h.jsx)(m,{})}),(0,h.jsx)(a.Z,{sx:{position:"relative",top:-120,left:72},children:(0,h.jsx)(m,{})})]})}),(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(r.Z,{spacing:1,children:(0,h.jsx)(o.Z,{align:"center",variant:"h4",children:n})})})]})})})})}},12176:function(e,n,t){t.r(n);var i=t(93433),a=t(1413),r=t(29439),o=t(47313),l=t(35604),s=t(21933),c=t(19860),d=t(47825),u=t(9019),h=t(24631),m=t(1550),x=t(83929),p=t(44758),f=t(83882),v=t(15103),Z=t(6159),g=t(51405),j=t(66212),_=t(69099),b=t(89688),w=t(85554),y=t(88298),C=t(95357),S=t(2244),k=t(76351),P=t(88150),E=t(71325),M=t(10825),F=t(86311),R=t(77970),T=t(36287),A=t(46417),B=s.Ry({min_animal:s.Rx().required((0,A.jsx)(E.Z,{id:"alerte-form-minAnimal"})),max_animal:s.Rx().required((0,A.jsx)(E.Z,{id:"alerte-form-maxAnimal"})),id_ville:s.Z_().required((0,A.jsx)(E.Z,{id:"alerte-form-ville"})),id_animal:s.Z_().required((0,A.jsx)(E.Z,{id:"alerte-form-animal"})),id_contact:s.Z_().required((0,A.jsx)(E.Z,{id:"alerte-form-contact"}))});n.default=function(){var e=(0,w.I0)(),n=(0,c.Z)(),t=(0,w.v9)((function(e){return e.location.villes.status})),s=(0,w.v9)((function(e){return e.location.villes})).ListVille,V=(0,w.v9)((function(e){return e.alert.contact.status})),H=(0,w.v9)((function(e){return e.alert.contact})).ListContact,I=(0,w.v9)((function(e){return e.alert.contact.nbPages})),J=(0,w.v9)((function(e){return e.betail.list})),N=J.listStatus,q=J.betailTab,W=J.listError,O=(0,o.useState)([]),z=(0,r.Z)(O,2),L=z[0],X=z[1],D=(0,o.useState)([]),$=(0,r.Z)(D,2),U=$[0],G=$[1],K=(0,o.useState)(1),Q=(0,r.Z)(K,2),Y=Q[0],ee=Q[1];(0,o.useEffect)((function(){e((0,C.Z8)({page:1})),e((0,k.vH)({page:Y,nbre_ligne:T.iS})),e((0,P.zU)())}),[]);var ne=(0,l.TA)({initialValues:{min_animal:"",max_animal:"",type_sms:!1,type_email:!1,id_ville:"",id_animal:"",id_contact:""},validationSchema:B,onSubmit:function(n){if(n.min_animal>n.max_animal)ne.setErrors({min_animal:(0,A.jsx)(E.Z,{id:"alerte-form-maxmin"}),max_animal:(0,A.jsx)(E.Z,{id:"alerte-form-maxmin"})});else{var t=(0,a.Z)((0,a.Z)({},n),{},{contacts:U});console.log("vvvv",t),e((0,M.el)(t))}}});return V==y.J_.loading||N==y.J_.loading||t==y.J_.loading?(0,A.jsx)(S.Z,{title:(0,A.jsx)(E.Z,{id:"loading"})}):W?(0,A.jsx)(S.Z,{title:(0,A.jsx)(E.Z,{id:W})}):(0,A.jsx)(d.Z,{maxWidth:"sm",children:(0,A.jsx)(b.Z,{title:"Autocomplete",children:(0,A.jsx)("form",{onSubmit:ne.handleSubmit,children:(0,A.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsx)(h.Z,{name:"min_animal",label:"Min Animal",type:"number",value:ne.values.min_animal,onChange:ne.handleChange,fullWidth:!0,error:ne.touched.min_animal&&Boolean(ne.errors.min_animal),helperText:ne.touched.min_animal&&ne.errors.min_animal})}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsx)(h.Z,{name:"max_animal",label:"Max Animal",type:"number",value:ne.values.max_animal,onChange:ne.handleChange,fullWidth:!0,error:ne.touched.max_animal&&Boolean(ne.errors.max_animal),helperText:ne.touched.max_animal&&ne.errors.max_animal})}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsxs)(m.Z,{fullWidth:!0,children:[(0,A.jsx)(x.Z,{control:(0,A.jsx)(p.Z,{name:"type_sms",checked:ne.values.type_sms,onChange:function(e){ne.setFieldValue("type_sms",e.target.checked)},error:ne.touched.type_sms&&Boolean(ne.errors.type_sms)}),label:"Notification SMS"}),ne.touched.type_sms&&ne.errors.type_sms&&(0,A.jsx)("div",{children:ne.errors.type_sms}),(0,A.jsx)(x.Z,{control:(0,A.jsx)(p.Z,{name:"type_email",checked:ne.values.type_email,onChange:function(e){ne.setFieldValue("type_email",e.target.checked)},error:ne.touched.type_email&&Boolean(ne.errors.type_email)}),label:"Notification Email"}),ne.touched.type_email&&ne.errors.type_email&&(0,A.jsx)("div",{children:ne.errors.type_email})]})}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsx)(f.Z,{id:"id_ville",value:s.find((function(e){return e.pk===ne.values.id_ville}))||null,onChange:function(e,n){ne.setFieldValue("id_ville",n?n.pk:"")},onBlur:function(){return ne.setFieldTouched("id_ville")},getOptionLabel:function(e){return e?e.name:""},options:s,isOptionEqualToValue:function(e,n){return e.pk===n},renderInput:function(e){return(0,A.jsx)(h.Z,(0,a.Z)((0,a.Z)({},e),{},{placeholder:"Select ville",sx:{"& .MuiAutocomplete-input.Mui-disabled":{WebkitTextFillColor:n.palette.text.primary}},error:ne.touched.id_ville&&Boolean(ne.errors.id_ville),helperText:ne.touched.id_ville&&ne.errors.id_ville}))}})}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsx)(f.Z,{id:"id_animal",value:q.find((function(e){return e.id===ne.values.id_animal}))||null,onChange:function(e,n){ne.setFieldValue("id_animal",n?n.id:"")},onBlur:function(){return ne.setFieldTouched("id_animal")},getOptionLabel:function(e){return e?e.name:""},options:q,isOptionEqualToValue:function(e,n){return e.id===n},renderInput:function(e){return(0,A.jsx)(h.Z,(0,a.Z)((0,a.Z)({},e),{},{placeholder:"Select animal",sx:{"& .MuiAutocomplete-input.Mui-disabled":{WebkitTextFillColor:n.palette.text.primary}},error:ne.touched.id_animal&&Boolean(ne.errors.id_animal),helperText:ne.touched.id_animal&&ne.errors.id_animal}))}})}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsxs)(m.Z,{fullWidth:!0,children:[(0,A.jsx)(v.Z,{children:"Contact"}),(0,A.jsx)(Z.Z,{name:"id_contact",value:ne.values.id_contact,onChange:function(e){ne.handleChange(e),function(e){var n=H.find((function(n){return n.id===e}));L.some((function(n){return n.id===e}))||(X((function(e){return[].concat((0,i.Z)(e),[n])})),G((function(n){return[].concat((0,i.Z)(n),[e])})))}(e.target.value)},error:ne.touched.id_contact&&Boolean(ne.errors.id_contact),helperText:ne.touched.id_contact&&ne.errors.id_contact,children:H.map((function(e,n){return(0,A.jsxs)(g.Z,{value:e.id,children:[e.email,"-",e.phone]},n)}))})]})}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsx)(R.Z,{count:I,page:Y,onChange:function(n,t){ee(t),e((0,k.vH)({page:t,nbre_ligne:2})),ne.setFieldValue("id_contact","")}})}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:L.map((function(e,n){return(0,A.jsx)(j.Z,{label:"".concat(e.email,"-").concat(e.phone),onDelete:function(){return n=e,X((function(e){return e.filter((function(e){return e!==n}))})),void G((function(e){return e.filter((function(e){return e!==n.id}))}));var n}},n)}))}),(0,A.jsx)(u.ZP,{item:!0,xs:12,children:(0,A.jsx)(_.Z,{type:"submit",variant:"contained",color:"primary",children:(0,A.jsx)(E.Z,{id:"detailrapport-Validateur"})})}),(0,A.jsx)(F.Z,{})]})})})})}},86311:function(e,n,t){var i=t(36287),a=t(47313),r=t(71325),o=t(85554),l=t(10825),s=t(77960),c=t(40115),d=t(18530),u=t(88298),h=t(58467),m=t(41984),x=t(46417);n.Z=function(){var e=(0,o.v9)((function(e){return e.alert.create})),n=e.createStatus,t=e.createError,p=(0,o.v9)((function(e){return e.alert.edit})),f=p.editStatus,v=p.editError,Z=(0,o.v9)((function(e){return e.alert.delete})),g=Z.deleteStatus,j=Z.deleteError,_=(0,o.I0)(),b=(0,h.s0)();return(0,a.useEffect)((function(){n==u.J_.succeed&&(_((0,d.ss)({open:!0,message:(0,x.jsx)(r.Z,{id:"add-alert-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),_((0,c.EN)({page:1,nbre_ligne:i.iS})),_((0,l.wM)()),b("/apps/alerts/list/")),n==u.J_.error&&(_((0,d.ss)({open:!0,message:(0,x.jsx)(r.Z,{id:t}),variant:"alert",alert:{color:"error"},close:!1})),_((0,l.wM)()))}),[n]),(0,a.useEffect)((function(){f==u.J_.succeed&&(_((0,d.ss)({open:!0,message:(0,x.jsx)(r.Z,{id:"update-alert-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),_((0,c.EN)({page:1,nbre_ligne:i.iS})),_((0,s.C$)()),b("/apps/alerts/list/")),f==u.J_.error&&(_((0,d.ss)({open:!0,message:(0,x.jsx)(r.Z,{id:v}),variant:"alert",alert:{color:"error"},close:!1})),_((0,s.C$)()))}),[f]),console.log("mon error",j),(0,a.useEffect)((function(){g==u.J_.succeed&&(_((0,d.ss)({open:!0,message:(0,x.jsx)(r.Z,{id:"delete-alert-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),_((0,c.EN)({page:1,nbre_ligne:i.iS})),_((0,m.jr)())),g==u.J_.error&&(_((0,d.ss)({open:!0,message:(0,x.jsx)(r.Z,{id:j}),variant:"alert",alert:{color:"error"},close:!1})),_((0,m.jr)()))}),[g]),null}},73248:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(1413),a=t(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M594.3 601.5a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1 8 8 0 008 8.4H407c4.2 0 7.6-3.3 7.9-7.5 3.8-50.6 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H661a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.7-126.1zM512 578c-28.5 0-51.7-23.3-51.7-52s23.2-52 51.7-52 51.7 23.3 51.7 52-23.2 52-51.7 52zm416-354H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zm-40 568H136V296h120v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h120v496z"}}]},name:"contacts",theme:"outlined"},o=t(20262),l=function(e,n){return a.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};l.displayName="ContactsOutlined";var s=a.forwardRef(l)},84488:function(e,n,t){t.d(n,{Z:function(){return F}});var i=t(30168),a=t(63366),r=t(87462),o=t(47313),l=t(83061),s=t(30686),c=t(21921);function d(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function u(e){return parseFloat(e)}var h=t(17551),m=t(17592),x=t(77342),p=t(77430),f=t(32298);function v(e){return(0,f.Z)("MuiSkeleton",e)}(0,p.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var Z,g,j,_,b,w,y,C,S=t(46417),k=["animation","className","component","height","style","variant","width"],P=(0,s.F4)(b||(b=Z||(Z=(0,i.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),E=(0,s.F4)(w||(w=g||(g=(0,i.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),M=(0,m.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],!1!==t.animation&&n[t.animation],t.hasChildren&&n.withChildren,t.hasChildren&&!t.width&&n.fitContent,t.hasChildren&&!t.height&&n.heightAuto]}})((function(e){var n=e.theme,t=e.ownerState,i=d(n.shape.borderRadius)||"px",a=u(n.shape.borderRadius);return(0,r.Z)({display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:(0,h.Fq)(n.palette.text.primary,"light"===n.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(a).concat(i,"/").concat(Math.round(a/.6*10)/10).concat(i),"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&(0,s.iv)(y||(y=j||(j=(0,i.Z)(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),P)}),(function(e){var n=e.ownerState,t=e.theme;return"wave"===n.animation&&(0,s.iv)(C||(C=_||(_=(0,i.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),E,(t.vars||t).palette.action.hover)})),F=o.forwardRef((function(e,n){var t=(0,x.Z)({props:e,name:"MuiSkeleton"}),i=t.animation,o=void 0===i?"pulse":i,s=t.className,d=t.component,u=void 0===d?"span":d,h=t.height,m=t.style,p=t.variant,f=void 0===p?"text":p,Z=t.width,g=(0,a.Z)(t,k),j=(0,r.Z)({},t,{animation:o,component:u,variant:f,hasChildren:Boolean(g.children)}),_=function(e){var n=e.classes,t=e.variant,i=e.animation,a=e.hasChildren,r=e.width,o=e.height,l={root:["root",t,i,a&&"withChildren",a&&!r&&"fitContent",a&&!o&&"heightAuto"]};return(0,c.Z)(l,v,n)}(j);return(0,S.jsx)(M,(0,r.Z)({as:u,ref:n,className:(0,l.Z)(_.root,s),ownerState:j},g,{style:(0,r.Z)({width:Z,height:h},m)}))}))}}]);