"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[5961],{15961:function(e,t,r){r.r(t),r.d(t,{default:function(){return Y}});var s=r(29439),n=r(1413),l=r(75192),a=r.n(l),i=r(47313),c=r(58467),o=r(66212),d=r(9019),u=r(77970),Z=r(42832),x=r(69099),p=r(19860),j=r(82138),m=r(89688),g=r(73842),f=r(7519),h=r(18682),v=r(2244),w=r(71325),b=r(88298),y=r(27937),F=r(47305),C=r(47131),R=r(87354),P=r(41627),S=r(73305),I=r(17632),z=r(46417),H=r(24813),T=r(57829),k=r(66835),_=r(23477),M=r(24076),G=r(67478),N=r(57861),B=r(17551),L=r(45110),E=r(35397);var W=function(e){var t=e.columns,r=e.data,s=(0,p.Z)(),l=(0,c.s0)(),a=(0,H.Z)(s.breakpoints.down("sm")),o=(0,i.useMemo)((function(){return{Filter:E.zw}}),[]),d=(0,i.useMemo)((function(){return E.KR}),[]),u=(0,i.useMemo)((function(){return{filters:[{id:"status",value:""}],pageIndex:0,pageSize:5}}),[]),m=(0,L.useTable)({columns:t,data:r,filterTypes:d,defaultColumn:o,initialState:u},L.useGlobalFilter,L.useFilters,L.useSortBy,L.useExpanded,L.usePagination,L.useRowSelect),g=m.getTableProps,h=m.getTableBodyProps,v=m.headerGroups,b=m.prepareRow,y=m.page,F=m.state,C=F.globalFilter,R=F.selectedRowIds,P=m.preGlobalFilteredRows,S=m.setGlobalFilter,I=m.selectedFlatRows,W=(0,i.useRef)(null);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(Z.Z,{direction:a?"column":"row",spacing:1,justifyContent:"space-between",alignItems:"center",sx:{p:3,pb:3},children:[(0,z.jsx)(Z.Z,{direction:a?"column":"row",spacing:2,children:(0,z.jsx)(E.KO,{preGlobalFilteredRows:P,globalFilter:C,setGlobalFilter:S,size:"small"})}),(0,z.jsxs)(Z.Z,{direction:a?"column":"row",alignItems:"center",spacing:a?1:0,children:[(0,z.jsx)(f.c,{selected:Object.keys(R).length}),(0,z.jsx)(x.Z,{variant:"contained",startIcon:(0,z.jsx)(j.Z,{}),onClick:function(){return l("/apps/users/role/create")},size:"small",children:(0,z.jsx)(w.Z,{id:"add-new-role"})}),(0,z.jsx)(f.ZZ,{data:I.length>0?I.map((function(e){return e.original})):r,filename:"role-list.csv"})]})]}),(0,z.jsx)(T.Z,{ref:W,children:(0,z.jsxs)(k.Z,(0,n.Z)((0,n.Z)({},g()),{},{children:[(0,z.jsx)(_.Z,{children:v.map((function(e,t){return(0,z.jsx)(M.Z,(0,n.Z)((0,n.Z)({},e.getHeaderGroupProps()),{},{sx:{"& > th":{textAlign:"center"}},children:e.headers.map((function(e,t){return(0,z.jsx)(G.Z,(0,n.Z)((0,n.Z)({},e.getHeaderProps([{className:e.className}])),{},{children:(0,z.jsx)(f.RL,{column:e,sort:!0})}),t)}))}),t)}))}),(0,z.jsx)(N.Z,(0,n.Z)((0,n.Z)({},h()),{},{children:y.map((function(e,t){return b(e),(0,z.jsx)(i.Fragment,{children:(0,z.jsx)(M.Z,(0,n.Z)((0,n.Z)({},e.getRowProps()),{},{onClick:function(){e.toggleRowSelected()},sx:{cursor:"pointer",bgcolor:e.isSelected?(0,B.Fq)(s.palette.primary.lighter,.35):"inherit"},children:e.cells.map((function(e,t){return(0,z.jsx)(G.Z,(0,n.Z)((0,n.Z)({},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}),t)}))}))},t)}))}))]}))})]})},A=r(89600),J=function(e){var t=e.value;return(0,A.Z)(new Date(t),"dd/MM/yyyy")};J.propTypes={value:a().string};var K=function(e){var t=e.row;return(0,z.jsx)(f.YQ,(0,n.Z)({},t.getToggleRowSelectedProps()))},O=function(e){var t=e.getToggleAllPageRowsSelectedProps;return(0,z.jsx)(f.YQ,(0,n.Z)({indeterminate:!0},t()))},Q=function(e){switch(e.value){case!1:return(0,z.jsx)(o.Z,{color:"error",label:(0,z.jsx)(w.Z,{id:"inactive"}),size:"small",variant:"light"});case!0:return(0,z.jsx)(o.Z,{color:"success",label:(0,z.jsx)(w.Z,{id:"active"}),size:"small",variant:"light"})}},Y=function(){var e=(0,c.s0)(),t=(0,p.Z)(),r=(0,i.useState)(1),n=(0,s.Z)(r,2),l=n[0],a=n[1],o=(0,h.v9)((function(e){return e.role.list})),f=o.listStatus,H=o.roleTab,T=o.nbPages,k=o.listError;(0,i.useEffect)((function(){(0,h.WI)((0,y.j)({page:l}))}),[l]);var _=(0,i.useMemo)((function(){return[{title:"Row Selection",Header:O,accessor:"selection",Cell:K,disableSortBy:!0,disableFilters:!0},{Header:" Id",accessor:"id",className:"cell-center",disableFilters:!0},{Header:(0,z.jsx)(w.Z,{id:"name"}),accessor:"libelle",disableFilters:!0},{Header:(0,z.jsx)(w.Z,{id:"code"}),accessor:"code_role",disableFilters:!0},{Header:(0,z.jsx)(w.Z,{id:"status"}),accessor:"active",Cell:Q},{Header:(0,z.jsx)(w.Z,{id:"created-on"}),accessor:"created_at",Cell:J},{Header:(0,z.jsx)(w.Z,{id:"last-update"}),accessor:"updated_at",Cell:J},{Header:"Actions",className:"cell-center",disableSortBy:!0,Cell:function(r){return function(e,t,r){return(0,z.jsx)(Z.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:(0,z.jsx)(F.Z,{title:(0,z.jsx)(w.Z,{id:"edit"}),children:(0,z.jsx)(C.Z,{color:"primary",onClick:function(r){r.stopPropagation(),(0,h.WI)((0,S.$2)()),(0,h.WI)((0,I.Bd)()),(0,h.WI)((0,R.s2)({id:e.values.id})),t("/apps/users/role/edit/".concat(e.values.id))},children:(0,z.jsx)(P.Z,{twoToneColor:r.palette.primary.main})})})})}(r.row,e,t)}}]}),[]);return f==b.J_.loading?(0,z.jsx)(v.Z,{title:(0,z.jsx)(w.Z,{id:"loading"})}):f==b.J_.error?(0,z.jsx)(v.Z,{title:(0,z.jsx)(w.Z,{id:k})}):(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(m.Z,{content:!1,children:(null===H||void 0===H?void 0:H.length)>0?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(g.Z,{children:(0,z.jsx)(W,{columns:_,data:H})}),(0,z.jsx)(d.ZP,{sx:{p:2,py:3},colSpan:9,children:(0,z.jsx)(d.ZP,{item:!0,sx:{mt:{xs:2,sm:0}},children:(0,z.jsx)(u.Z,{count:T,page:l,onChange:function(e,t){a(t)},color:"primary",variant:"combined"})})})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Z.Z,{direction:"row",justifyContent:"flex-end",spacing:1,sx:{p:2},children:(0,z.jsx)(x.Z,{variant:"contained",startIcon:(0,z.jsx)(j.Z,{}),onClick:function(){return e("/apps/users/role/create")},size:"small",children:(0,z.jsx)(w.Z,{id:"add-role"})})}),(0,z.jsx)(v.Z,{title:(0,z.jsx)(w.Z,{id:"no-role"})})]})})})}},41627:function(e,t,r){r.d(t,{Z:function(){return c}});var s=r(1413),n=r(47313),l={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},a=r(20262),i=function(e,t){return n.createElement(a.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:l}))};i.displayName="EditTwoTone";var c=n.forwardRef(i)}}]);