"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[8339],{58339:function(e,t,n){n.r(t);var r=n(29439),s=n(1413),i=n(47313),a=n(58467),l=n(24813),c=n(42832),o=n(69099),d=n(57829),u=n(66835),p=n(23477),f=n(24076),Z=n(67478),h=n(57861),x=n(61113),m=n(47305),j=n(9019),g=n(77970),v=n(19860),w=n(17551),b=n(45110),C=n(82138),y=n(50294),k=n(41627),F=n(45460),z=n(89688),H=n(73842),I=n(94044),R=n(7519),T=n(18682),M=n(35397),P=n(21157),S=n(2244),E=n(71325),N=n(88298),W=n(89600),B=n(87354),G=n(90967),L=n(58115),_=n(46417);function U(e){var t=e.columns,n=e.data,r=(0,v.Z)(),x=(0,a.s0)(),m=(0,l.Z)(r.breakpoints.down("sm")),j=(0,i.useMemo)((function(){return{Filter:M.zw}}),[]),g=(0,i.useMemo)((function(){return M.KR}),[]),y=(0,i.useMemo)((function(){return{filters:[{id:"status",value:""}],pageIndex:0,pageSize:5}}),[]),k=(0,b.useTable)({columns:t,data:n,filterTypes:g,defaultColumn:j,initialState:y},b.useGlobalFilter,b.useFilters,b.useSortBy,b.useExpanded,b.usePagination,b.useRowSelect),F=k.getTableProps,z=k.getTableBodyProps,H=k.headerGroups,I=k.prepareRow,P=k.page,S=k.state,N=S.globalFilter,W=S.selectedRowIds,B=k.preGlobalFilteredRows,U=k.setGlobalFilter,A=(0,i.useRef)(null);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(c.Z,{direction:m?"column":"row",spacing:1,justifyContent:"space-between",alignItems:"center",sx:{p:3,pb:3},children:[(0,_.jsx)(c.Z,{direction:m?"column":"row",spacing:2,children:(0,_.jsx)(M.KO,{preGlobalFilteredRows:B,globalFilter:N,setGlobalFilter:U,size:"small"})}),(0,_.jsxs)(c.Z,{direction:m?"column":"row",alignItems:"center",spacing:m?1:0,children:[(0,_.jsx)(R.c,{selected:Object.keys(W).length}),(0,_.jsx)(o.Z,{variant:"contained",startIcon:(0,_.jsx)(C.Z,{}),onClick:function(){(0,T.WI)((0,G.od)()),(0,T.WI)((0,L.U8)()),x("/apps/checkpoints/create")},size:"small",children:(0,_.jsx)(E.Z,{id:"add-checkpoint"})}),(0,_.jsx)(R.ZZ,{data:n,filename:"checkpoints-list.csv"})]})]}),(0,_.jsx)(d.Z,{ref:A,children:(0,_.jsxs)(u.Z,(0,s.Z)((0,s.Z)({},F()),{},{children:[(0,_.jsx)(p.Z,{children:H.map((function(e,t){return(0,_.jsx)(f.Z,(0,s.Z)((0,s.Z)({},e.getHeaderGroupProps()),{},{sx:{"& > th:first-of-type":{width:"58px"}},children:e.headers.map((function(e,t){return(0,_.jsx)(Z.Z,(0,s.Z)((0,s.Z)({align:"center"},e.getHeaderProps([{className:e.className}])),{},{children:(0,_.jsx)(R.RL,{column:e,sort:!0})}),t)}))}),t)}))}),(0,_.jsx)(h.Z,(0,s.Z)((0,s.Z)({},z()),{},{children:P.map((function(e,t){return I(e),(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(f.Z,(0,s.Z)((0,s.Z)({},e.getRowProps()),{},{onClick:function(){e.toggleRowSelected()},sx:{cursor:"pointer",bgcolor:e.isSelected?(0,w.Fq)(r.palette.primary.lighter,.35):"inherit"},children:e.cells.map((function(e,t){return(0,_.jsx)(Z.Z,(0,s.Z)((0,s.Z)({},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}),t)}))}))},t)}))}))]}))})]})}var A=function(e){var t,n=e.value;return(0,_.jsx)(x.Z,{variant:"subtitle1",children:n.length>0?null===(t=n.find((function(e){return 1==e.responsable})))||void 0===t?void 0:t.username:""})},D=function(e){var t=e.value;return(0,_.jsx)(x.Z,{variant:"subtitle1",children:(0,W.Z)(new Date(t),"dd/MM/yyyy")})},J=function(e){var t=e.row;return(0,_.jsx)(R.YQ,(0,s.Z)({},t.getToggleRowSelectedProps()))},K=function(e){var t=e.getToggleAllPageRowsSelectedProps;return(0,_.jsx)(R.YQ,(0,s.Z)({indeterminate:!0},t()))};t.default=function(){var e=(0,a.s0)(),t=(0,v.Z)(),n=(0,i.useState)(1),s=(0,r.Z)(n,2),l=s[0],d=s[1],u=(0,T.v9)((function(e){return e.checkpoint.list})),p=u.listStatus,f=u.checkpointsTab,Z=u.nbPages,h=u.listError;(0,i.useEffect)((function(){(0,T.WI)((0,P.k)({page:l}))}),[l]),(0,i.useEffect)((function(){}),[p]);var x=(0,i.useMemo)((function(){return[{title:"Row Selection",Header:K,accessor:"selection",Cell:J,disableSortBy:!0,disableFilters:!0},{Header:" Id",accessor:"id",className:"cell-center",disableFilters:!0},{Header:(0,_.jsx)(E.Z,{id:"name"}),accessor:"libelle",disableFilters:!0},{Header:(0,_.jsx)(E.Z,{id:"city"}),accessor:"district[0].ville",disableFilters:!0},{Header:(0,_.jsx)(E.Z,{id:"code-checkpoint"}),accessor:"code",disableFilters:!0},{Header:(0,_.jsx)(E.Z,{id:"created-on"}),accessor:"createat",Cell:D},{Header:(0,_.jsx)(E.Z,{id:"responsable"}),accessor:"users",disableFilters:!0,Cell:A},{Header:"Actions",className:"cell-center",disableSortBy:!0,Cell:function(n){return function(e,t,n){return(0,_.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,_.jsx)(m.Z,{title:(0,_.jsx)(E.Z,{id:"view"}),children:(0,_.jsx)(I.Z,{color:"secondary",onClick:function(n){n.stopPropagation(),(0,T.WI)((0,G.od)()),(0,T.WI)((0,L.U8)()),(0,T.WI)((0,B.s2)({id:e.values.id})),t("/apps/checkpoints/details/".concat(e.values.id))},children:(0,_.jsx)(y.Z,{twoToneColor:n.palette.secondary.main})})}),(0,_.jsx)(m.Z,{title:(0,_.jsx)(E.Z,{id:"edit"}),children:(0,_.jsx)(I.Z,{color:"primary",onClick:function(n){n.stopPropagation(),(0,T.WI)((0,G.od)()),(0,T.WI)((0,L.U8)()),(0,T.WI)((0,B.s2)({id:e.values.id})),t("/apps/checkpoints/edit/".concat(e.values.id))},children:(0,_.jsx)(k.Z,{twoToneColor:n.palette.primary.main})})}),(0,_.jsx)(m.Z,{title:(0,_.jsx)(E.Z,{id:"delete"}),children:(0,_.jsx)(I.Z,{color:"error",children:(0,_.jsx)(F.Z,{twoToneColor:n.palette.error.main})})})]})}(n.row,e,t)}}]}),[]);return p==N.J_.loading?(0,_.jsx)(S.Z,{title:(0,_.jsx)(E.Z,{id:"loading"})}):p==N.J_.error?(0,_.jsx)(S.Z,{title:(0,_.jsx)(E.Z,{id:h})}):(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(z.Z,{content:!1,children:(null===f||void 0===f?void 0:f.length)>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(H.Z,{children:(0,_.jsx)(U,{columns:x,data:f})}),(0,_.jsx)(j.ZP,{sx:{p:2,py:3},colSpan:9,children:(0,_.jsx)(j.ZP,{item:!0,sx:{mt:{xs:2,sm:0}},children:(0,_.jsx)(g.Z,{count:Z,page:l,onChange:function(e,t){d(t)},color:"primary",variant:"combined"})})})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(c.Z,{direction:"row",justifyContent:"flex-end",spacing:1,sx:{p:2},children:(0,_.jsx)(o.Z,{variant:"contained",startIcon:(0,_.jsx)(C.Z,{}),onClick:function(){return e("/apps/checkpoints/create")},size:"small",children:(0,_.jsx)(E.Z,{id:"add-checkpoint"})})}),(0,_.jsx)(S.Z,{title:(0,_.jsx)(E.Z,{id:"no-checkpoint"})})]})})})}},45460:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),s=n(47313),i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"},a=n(20262),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="DeleteTwoTone";var c=s.forwardRef(l)},41627:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),s=n(47313),i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},a=n(20262),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="EditTwoTone";var c=s.forwardRef(l)},50294:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),s=n(47313),i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:t}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:t}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:e}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:e}}]}},name:"eye",theme:"twotone"},a=n(20262),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="EyeTwoTone";var c=s.forwardRef(l)}}]);