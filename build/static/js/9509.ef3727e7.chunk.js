"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[9509],{43670:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(47313),i=t(61113),s=t(9019),a=t(42832),c=t(47131),l=t(69099),o=t(57829),d=t(93405),u=t(72495),x=t(71325),h=t(2244),j=t(85554),Z=t(1413),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M380 704h264c4.4 0 8-3.6 8-8v-84c0-4.4-3.6-8-8-8h-40c-4.4 0-8 3.6-8 8v36H428v-36c0-4.4-3.6-8-8-8h-40c-4.4 0-8 3.6-8 8v84c0 4.4 3.6 8 8 8zm340-123a40 40 0 1080 0 40 40 0 10-80 0zm239-167.6L935.3 372a8 8 0 00-10.9-2.9l-50.7 29.6-78.3-216.2a63.9 63.9 0 00-60.9-44.4H301.2c-34.7 0-65.5 22.4-76.2 55.5l-74.6 205.2-50.8-29.6a8 8 0 00-10.9 2.9L65 413.4c-2.2 3.8-.9 8.6 2.9 10.8l60.4 35.2-14.5 40c-1.2 3.2-1.8 6.6-1.8 10v348.2c0 15.7 11.8 28.4 26.3 28.4h67.6c12.3 0 23-9.3 25.6-22.3l7.7-37.7h545.6l7.7 37.7c2.7 13 13.3 22.3 25.6 22.3h67.6c14.5 0 26.3-12.7 26.3-28.4V509.4c0-3.4-.6-6.8-1.8-10l-14.5-40 60.3-35.2a8 8 0 003-10.8zM840 517v237H184V517l15.6-43h624.8l15.6 43zM292.7 218.1l.5-1.3.4-1.3c1.1-3.3 4.1-5.5 7.6-5.5h427.6l75.4 208H220l72.7-199.9zM224 581a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"car",theme:"outlined"},p=t(20262),m=function(e,n){return r.createElement(p.Z,(0,Z.Z)((0,Z.Z)({},e),{},{ref:n,icon:f}))};m.displayName="CarOutlined";var v=r.forwardRef(m),g=t(46417),y=function(){var e=(0,j.v9)((function(e){return e.transport.detail})).result;return(0,g.jsx)(d.Z,{maxWidth:"xl",children:(0,g.jsx)(s.ZP,{container:!0,spacing:2.75,alignItems:"center",sx:{position:"relative","&>*":{position:"relative",zIndex:"5"},"&:after":{content:'""',position:"absolute",top:10,left:38,width:2,height:"100%",background:"#ebebeb",zIndex:"1"}},children:e.length>0?(0,g.jsx)(g.Fragment,{children:e.map((function(e){return(0,g.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,g.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,g.jsx)(s.ZP,{item:!0,children:(0,g.jsx)(u.Z,{type:"filled",color:"success",size:"sm",sx:{top:10},children:(0,g.jsx)(v,{})})}),(0,g.jsx)(s.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,g.jsxs)(s.ZP,{container:!0,spacing:0,children:[(0,g.jsx)(s.ZP,{item:!0,xs:12,children:(0,g.jsx)(i.Z,{align:"left",variant:"caption",color:"secondary",children:new Date(e.date).toLocaleString()})}),(0,g.jsx)(s.ZP,{item:!0,xs:12,children:(0,g.jsx)(i.Z,{align:"left",variant:"body2",children:e.nom_ckpt})}),(0,g.jsx)(s.ZP,{item:!0,xs:12,children:(0,g.jsx)(i.Z,{align:"left",variant:"body2",children:e.betails.map((function(e){return"".concat(e.animal,": ").concat(e.effectif)})).join(", ")})})]})})]})},e.pk)}))}):(0,g.jsx)(h.Z,{title:(0,g.jsx)(x.Z,{id:"itineraire-no-deplacement"})})})})},b=t(88298),_=t(7681),w=t(59748),z=t(11829),P=t(936),C=t(89688),M=t(43295),k=t.n(M),D=t(16132),S=t(89600),H=function(e){var n,t,r=e.transport,s=e.debut,a=e.fin;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i.Z,{children:[(0,g.jsx)(x.Z,{id:"itineraire"})," ","fr"==(0,P.Z)().locale?null===(n=r.type_transport)||void 0===n?void 0:n.nom:null===(t=r.type_transport)||void 0===t?void 0:t.nom_en," ",r.matricule]}),(0,g.jsxs)(i.Z,{children:[(0,g.jsx)(x.Z,{id:"from"})," ",r.provenance," ",(0,g.jsx)(x.Z,{id:"to"})," ",r.destination]}),(0,g.jsxs)(i.Z,{children:[(0,S.Z)(new Date(s),"dd/MM/yyyy")," - ",(0,S.Z)(new Date(a),"dd/MM/yyyy")]})]})},J=function(e){var n=e.onCancel,t=e.componentRef,r=e.theme;return(0,g.jsxs)(s.ZP,{flexDirection:"row",children:[(0,g.jsx)(a.Z,{direction:"row",justifyContent:"flex-end",children:(0,g.jsx)(k(),{trigger:function(){return(0,g.jsx)(c.Z,{children:(0,g.jsx)(w.Z,{style:{color:r.palette.grey[900]}})})},content:function(){return t.current}})}),(0,g.jsx)(l.Z,{color:"primary",onClick:function(){return n()},children:(0,g.jsx)(z.Z,{})})]})},V=function(e){var n=e.onCancel,t=e.transport,i=e.debut,s=e.fin,a=(0,j.v9)((function(e){return e.transport.detail})).status,c=(0,r.useRef)(null),l=(0,D.u)();return(0,g.jsx)(o.Z,{id:"print",ref:c,padding:2,children:(0,g.jsxs)(C.Z,{title:(0,g.jsx)(H,{transport:t,debut:i,fin:s}),content:!1,secondary:(0,g.jsx)(J,{onCancel:n,componentRef:c,theme:l}),children:[a==b.J_.succeed&&(0,g.jsx)(y,{}),a==b.J_.loading&&(0,g.jsx)(_.D,{title:"loading"}),a==b.J_.error&&(0,g.jsx)(_.D,{title:"error-network"})]})})}},39509:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(29439),i=t(47313),s=t(51629),a=t(66835),c=t(23477),l=t(24076),o=t(67478),d=t(57861),u=t(66212),x=t(94469),h=t(71325),j=t(7519),Z=t(85554),f=t(43909),p=t(41139),m=t(43670),v=t(936),g=t(46417),y=function(e){var n=e.debut,t=e.fin,y=(0,Z.I0)(),b=(0,v.Z)(),_=(0,i.useState)(!1),w=(0,r.Z)(_,2),z=w[0],P=w[1],C=(0,i.useState)(""),M=(0,r.Z)(C,2),k=M[0],D=M[1],S=(0,Z.v9)((function(e){return e.transport.list})).ListCamion,H=function(){P(!z)};return(0,i.useEffect)((function(){k.matricule&&y((0,p.J1)({debut:n,fin:t,id:k.id_supply,matricule:k.matricule}))}),[k]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.Z,{children:(0,g.jsxs)(a.Z,{children:[(0,g.jsx)(c.Z,{children:(0,g.jsxs)(l.Z,{children:[(0,g.jsx)(o.Z,{sx:{pl:3},children:(0,g.jsx)(h.Z,{id:"transport-type"})}),(0,g.jsx)(o.Z,{sx:{pl:3},children:(0,g.jsx)(h.Z,{id:"itineraire-matricule"})}),(0,g.jsx)(o.Z,{children:(0,g.jsx)(h.Z,{id:"itineraire-ville-provenance"})}),(0,g.jsx)(o.Z,{children:(0,g.jsx)(h.Z,{id:"itineraire-ville-destination"})})]})}),S.length>0?(0,g.jsx)(d.Z,{children:S.map((function(e,n){var t,r;return(0,g.jsxs)(l.Z,{hover:!0,onClick:function(){return function(e){D(e),H()}(e)},children:[(0,g.jsxs)(o.Z,{children:["fr"==b.locale&&(null===(t=e.type_transport)||void 0===t?void 0:t.nom),"en"==b.locale&&(null===(r=e.type_transport)||void 0===r?void 0:r.nom_en)]}),(0,g.jsx)(o.Z,{sx:{pl:3},children:(0,g.jsx)(u.Z,{variant:"outlined",color:"primary",label:e.matricule,size:"small"})}),(0,g.jsx)(o.Z,{children:e.provenance}),(0,g.jsx)(o.Z,{children:e.destination})]},n)}))}):(0,g.jsx)(d.Z,{children:(0,g.jsx)(j.o1,{msg:(0,g.jsx)(h.Z,{id:"no-reports"}),colSpan:4})})]})}),(0,g.jsx)(x.Z,{maxWidth:"sm",TransitionComponent:f.S,keepMounted:!0,fullWidth:!0,onClose:H,open:z,sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},"aria-describedby":"alert-dialog-slide-description",children:(0,g.jsx)(m.default,{onCancel:H,transport:k,debut:n,fin:t})})]})},b=t(9019),_=t(77970),w=t(88298),z=t(36287),P=t(2244),C=t(49998),M=t(75397),k=t(5228),D=t(89688),S=function(){var e=(0,Z.I0)(),n=(0,i.useState)(1),t=(0,r.Z)(n,2),s=t[0],a=t[1],c=(0,i.useState)((0,C.bm)((0,C.IS)())),l=(0,r.Z)(c,2),o=l[0],d=l[1],u=(0,i.useState)((0,C.bm)((0,C.V7)())),x=(0,r.Z)(u,2),j=x[0],f=x[1],p=(0,Z.v9)((function(e){return e.transport.list})),m=p.status,v=p.nbPages;(0,i.useEffect)((function(){e((0,M.wo)({page:s,nb:z.iS,start:o,end:j}))}),[s,o,j]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.ZP,{container:!0,spacing:3,children:(0,g.jsx)(b.ZP,{item:!0,xs:12,children:(0,g.jsxs)(D.Z,{style:{width:"100%"},title:(0,g.jsx)(h.Z,{id:"transport-list"}),secondary:(0,g.jsx)(k.Z,{startDate:o,setStartDate:d,endDate:j,setEndDate:f}),children:[m==w.J_.loading&&(0,g.jsx)(P.Z,{title:(0,g.jsx)(h.Z,{id:"loading"})}),m==w.J_.succeed&&(0,g.jsx)(y,{debut:o,fin:j}),m==w.J_.error&&(0,g.jsx)(P.Z,{title:(0,g.jsx)(h.Z,{id:"error-network"})})]})})}),(0,g.jsx)(b.ZP,{item:!0,sx:{mt:{xs:2,sm:0}},children:(0,g.jsx)(_.Z,{count:v,page:s,onChange:function(e,n){a(n)},color:"primary",variant:"combined"})})]})}},59748:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(1413),i=t(47313),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M732 120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v148h440V120zm120 212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM664 844H360V568h304v276zm164-360c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-40c0-4.4 3.6-8 8-8h40c4.4 0 8 3.6 8 8v40z"}}]},name:"printer",theme:"filled"},a=t(20262),c=function(e,n){return i.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:s}))};c.displayName="PrinterFilled";var l=i.forwardRef(c)}}]);