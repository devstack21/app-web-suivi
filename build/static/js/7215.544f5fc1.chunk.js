"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[7215,2931],{67215:function(e,n,t){t.r(n);var r=t(29439),s=t(1413),i=t(47313),l=t(24813),a=t(42832),o=t(57829),c=t(66835),d=t(23477),u=t(24076),x=t(67478),h=t(57861),p=t(47305),Z=t(9019),m=t(77970),j=t(19860),g=t(17551),f=t(45110),v=t(50294),b=t(41627),C=t(89688),w=t(73842),y=t(94044),S=t(7519),P=t(18682),k=t(35397),F=t(2244),I=t(71325),H=t(88298),R=t(87354),T=t(21646),D=t(58467),_=t(90967),E=t(58115),M=t(72931),z=t(46417);function N(e){var n=e.columns,t=e.data,r=(0,j.Z)(),p=(0,l.Z)(r.breakpoints.down("sm")),Z=(0,i.useMemo)((function(){return{Filter:k.zw}}),[]),m=(0,i.useMemo)((function(){return k.KR}),[]),v=(0,i.useMemo)((function(){return{filters:[{id:"status",value:""}],pageIndex:0,pageSize:5}}),[]),b=(0,f.useTable)({columns:n,data:t,filterTypes:m,defaultColumn:Z,initialState:v},f.useGlobalFilter,f.useFilters,f.useSortBy,f.useExpanded,f.usePagination,f.useRowSelect),C=b.getTableProps,w=b.getTableBodyProps,y=b.headerGroups,P=b.prepareRow,F=b.page,I=b.state,H=I.globalFilter,R=I.selectedRowIds,T=b.preGlobalFilteredRows,D=b.setGlobalFilter,_=(0,i.useRef)(null);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(a.Z,{direction:p?"column":"row",spacing:1,justifyContent:"space-between",alignItems:"center",sx:{p:3,pb:3},children:[(0,z.jsx)(a.Z,{direction:p?"column":"row",spacing:2,children:(0,z.jsx)(k.KO,{preGlobalFilteredRows:T,globalFilter:H,setGlobalFilter:D,size:"small"})}),(0,z.jsxs)(a.Z,{direction:p?"column":"row",alignItems:"center",spacing:p?1:0,children:[(0,z.jsx)(S.c,{selected:Object.keys(R).length}),(0,z.jsx)(S.ZZ,{data:t,filename:"checkpoints-list.csv"})]})]}),(0,z.jsx)(o.Z,{ref:_,children:(0,z.jsxs)(c.Z,(0,s.Z)((0,s.Z)({},C()),{},{children:[(0,z.jsx)(d.Z,{children:y.map((function(e,n){return(0,z.jsx)(u.Z,(0,s.Z)((0,s.Z)({},e.getHeaderGroupProps()),{},{sx:{"& > th:first-of-type":{width:"58px"}},children:e.headers.map((function(e,n){return(0,z.jsx)(x.Z,(0,s.Z)((0,s.Z)({align:"center"},e.getHeaderProps([{className:e.className}])),{},{children:(0,z.jsx)(S.RL,{column:e,sort:!0})}),n)}))}),n)}))}),(0,z.jsx)(h.Z,(0,s.Z)((0,s.Z)({},w()),{},{children:F.map((function(e,n){return P(e),(0,z.jsx)(i.Fragment,{children:(0,z.jsx)(u.Z,(0,s.Z)((0,s.Z)({},e.getRowProps()),{},{onClick:function(){e.toggleRowSelected()},sx:{cursor:"pointer",bgcolor:e.isSelected?(0,g.Fq)(r.palette.primary.lighter,.35):"inherit"},children:e.cells.map((function(e,n){return(0,z.jsx)(x.Z,(0,s.Z)((0,s.Z)({},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}),n)}))}))},n)}))}))]}))})]})}var A=function(e){var n=e.row;return(0,z.jsx)(S.YQ,(0,s.Z)({},n.getToggleRowSelectedProps()))},G=function(e){var n=e.getToggleAllPageRowsSelectedProps;return(0,z.jsx)(S.YQ,(0,s.Z)({indeterminate:!0},n()))};n.default=function(){var e=(0,D.s0)(),n=(0,j.Z)(),t=(0,i.useState)(1),s=(0,r.Z)(t,2),l=s[0],o=s[1],c=(0,P.v9)((function(e){return e.checkpoint.agentList})),d=c.listStatus,u=c.agentsTab,x=c.nbPages,h=c.listError;(0,i.useEffect)((function(){(0,P.WI)((0,T.Q)({page:l,nb:5}))}),[l]),(0,i.useEffect)((function(){}),[d]);var g=(0,i.useMemo)((function(){return[{title:"Row Selection",Header:G,accessor:"selection",Cell:A,disableSortBy:!0,disableFilters:!0},{Header:" Id Checkpoint",accessor:"checkpoint.id",className:"cell-center",disableFilters:!0},{Header:(0,z.jsx)(I.Z,{id:"name"}),accessor:"username"},{Header:(0,z.jsx)(I.Z,{id:"email"}),accessor:"email"},{Header:(0,z.jsx)(I.Z,{id:"phone"}),accessor:"phone",Cell:M.NumberFormatCell},{Header:(0,z.jsx)(I.Z,{id:"chekpoint"}),accessor:"checkpoint.libelle"},{Header:(0,z.jsx)(I.Z,{id:"district"}),accessor:"checkpoint.district[0].name"},{Header:(0,z.jsx)(I.Z,{id:"region"}),accessor:"checkpoint.district[0].region"},{Header:"Actions",className:"cell-center",disableSortBy:!0,Cell:function(t){return function(e,n,t){return console.log(e),(0,z.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,z.jsx)(p.Z,{title:(0,z.jsx)(I.Z,{id:"view"}),children:(0,z.jsx)(y.Z,{color:"secondary",disabled:!e.original.checkpoint,onClick:function(t){t.stopPropagation(),(0,P.WI)((0,_.od)()),(0,P.WI)((0,E.U8)()),(0,P.WI)((0,R.s2)({id:e.values["checkpoint.id"]})),n("/apps/checkpoints/details/".concat(e.values["checkpoint.id"]))},children:(0,z.jsx)(v.Z,{twoToneColor:t.palette.secondary.main})})}),(0,z.jsx)(p.Z,{title:(0,z.jsx)(I.Z,{id:"edit"}),children:(0,z.jsx)(y.Z,{color:"primary",disabled:!e.original.checkpoint,onClick:function(t){t.stopPropagation(),(0,P.WI)((0,_.od)()),(0,P.WI)((0,E.U8)({id:e.values["checkpoint.id"]})),n("/apps/checkpoints/edit/".concat(e.values["checkpoint.id"]))},children:(0,z.jsx)(b.Z,{twoToneColor:t.palette.primary.main})})})]})}(t.row,e,n)}}]}),[]);return d==H.J_.loading?(0,z.jsx)(F.Z,{title:(0,z.jsx)(I.Z,{id:"loading"})}):d==H.J_.error?(0,z.jsx)(F.Z,{title:(0,z.jsx)(I.Z,{id:h})}):(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(C.Z,{content:!1,children:(null===u||void 0===u?void 0:u.length)>0?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(w.Z,{children:(0,z.jsx)(N,{columns:g,data:u})}),(0,z.jsx)(Z.ZP,{sx:{p:2,py:3},colSpan:9,children:(0,z.jsx)(Z.ZP,{item:!0,sx:{mt:{xs:2,sm:0}},children:(0,z.jsx)(m.Z,{count:x,page:l,onChange:function(e,n){o(n)},color:"primary",variant:"combined"})})})]}):(0,z.jsx)(F.Z,{title:(0,z.jsx)(I.Z,{id:"no-checkpoint"})})})})}},72931:function(e,n,t){t.r(n),t.d(n,{NumberFormatCell:function(){return Pe},default:function(){return ke}});var r=t(1413),s=t(47313),i=t(19860),l=t(42832),a=t(69099),o=t(9019),c=t(77970),d=t(94469),u=t(62870),x=t(89688),h=t(73842),p=t(43909),Z=t(7519),m=t(71325),j=t(45738),g=t(88298),f=t(85554),v=t(96467),b=t(61113),C=t(72495),w=t(26446),y=t(46417);function S(e){var n=e.title,t=e.open,r=e.handleClose;return(0,y.jsx)(d.Z,{open:t,onClose:function(){return r(!1)},keepMounted:!0,TransitionComponent:p.S,maxWidth:"xs","aria-labelledby":"column-delete-title","aria-describedby":"column-delete-description",children:(0,y.jsx)(v.Z,{sx:{mt:2,my:1},children:(0,y.jsxs)(l.Z,{alignItems:"center",spacing:3.5,children:[(0,y.jsx)(C.Z,{color:"error",sx:{width:72,height:72,fontSize:"1.75rem"},children:(0,y.jsx)(w.Z,{})}),(0,y.jsxs)(l.Z,{spacing:2,children:[(0,y.jsx)(b.Z,{variant:"h4",align:"center",children:(0,y.jsx)(m.Z,{id:"confirm-delete"})}),(0,y.jsxs)(b.Z,{align:"center",children:[(0,y.jsx)(m.Z,{id:"by-delete"}),(0,y.jsxs)(b.Z,{variant:"subtitle1",component:"span",children:[" ",'"',n,'"'," "]}),(0,y.jsx)(m.Z,{id:"by-delete-description"})]})]}),(0,y.jsxs)(l.Z,{direction:"row",spacing:2,sx:{width:1},children:[(0,y.jsx)(a.Z,{fullWidth:!0,onClick:function(){return r(!1)},color:"secondary",variant:"outlined",children:(0,y.jsx)(m.Z,{id:"cancel"})}),(0,y.jsx)(a.Z,{fullWidth:!0,color:"error",variant:"contained",onClick:function(){return r(!0)},autoFocus:!0,children:(0,y.jsx)(m.Z,{id:"delete"})})]})]})})})}var P=t(29439),k=t(33604),F=t(19536),I=t(5178),H=t(15103),R=t(24631),T=t(1550),D=t(6159),_=t(49914),E=t(51405),M=t(83213),z=t(15480),N=t(70024),A=t(4117),G=t(47305),W=t(23208),B=t(67898),J=t(21933),V=t(35604),q=t(94044),Y=t(49125),O=t(76564),Q=t(36287),U=t(18530),K=function(e){var n=e.setValues,t=e.user,r=e.page,i=(0,f.v9)((function(e){return e.account.create})),l=i.createStatus,a=i.createError,o=(0,f.v9)((function(e){return e.account.edit})),c=o.editStatus,d=o.editError,u=(0,f.v9)((function(e){return e.role.list})).roleTab,x=(0,f.I0)();return(0,s.useEffect)((function(){l==g.J_.succeed&&(x((0,U.ss)({open:!0,message:(0,y.jsx)(m.Z,{id:"add-user-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),x((0,j.t)({page:r,nb:Q.iS})),x((0,Y.gG)())),l==g.J_.error&&(x((0,U.ss)({open:!0,message:(0,y.jsx)(m.Z,{id:a}),variant:"alert",alert:{color:"error"},close:!1})),x((0,Y.gG)()))}),[l]),(0,s.useEffect)((function(){c==g.J_.succeed&&(x((0,U.ss)({open:!0,message:(0,y.jsx)(m.Z,{id:"edit-user-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),x((0,j.t)({page:r,nb:Q.iS})),x((0,O.Ms)())),c==g.J_.error&&(x((0,U.ss)({open:!0,message:(0,y.jsx)(m.Z,{id:d}),variant:"alert",alert:{color:"error"},close:!1})),x((0,O.Ms)()))}),[c]),(0,s.useEffect)((function(){var e=function(e,n){var t={username:"",email:"",role:null,phone:"",active:!0};if(e&&(t.username=e.username||"",t.email=e.email||"",t.phone=e.phone||"",t.active=e.is_block,e.role)){var r=n.find((function(n){return n.libelle===e.role}));t.role=r||null}return t}(t,u);n(e)}),[t,n]),null},L=t(1955),X=t(5242),$=function(e){var n,t=e.user,i=e.onCancel,c=e.page,d=(0,f.I0)(),u=(0,s.useState)(!1),x=(0,P.Z)(u,2),h=x[0],p=x[1],Z=(0,f.v9)((function(e){return e.role.list})).roleTab,j=!t,g=J.Z_().matches(/^6[5798]\d{7}$/,(0,y.jsx)(m.Z,{id:"invalid-phone"})).required((0,y.jsx)(m.Z,{id:"phone-required"})),Q=J.Ry().shape({username:J.Z_().max(255).required((0,y.jsx)(m.Z,{id:"name-required"})),role:J.Ry().required((0,y.jsx)(m.Z,{id:"role-required"})),phone:g,active:J.O7(),email:J.Z_().max(255).email((0,y.jsx)(m.Z,{id:"email-invalid"}))}),U=(0,V.TA)({validationSchema:Q,onSubmit:function(e,n){var r=n.setSubmitting,s=n.resetForm;try{if(t){var l={username:e.username,email:e.email,phone:e.phone,role_pk:e.role.id,pk:t.id,is_block:e.active};d((0,O.Xe)(l))}else{var a={username:e.username,email:e.email,phone:e.phone,role_pk:e.role.id,is_block:e.active};d((0,Y.ig)(a))}s(),r(!1),i()}catch(o){console.error(o)}}}),$=U.errors,ee=U.touched,ne=U.handleSubmit,te=U.isSubmitting,re=U.getFieldProps,se=U.setFieldValue,ie=U.setValues;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(V.Hy,{value:U,children:[(0,y.jsx)(W._,{dateAdapter:B.H,children:(0,y.jsxs)(V.l0,{autoComplete:"off",onSubmit:ne,children:[(0,y.jsx)(k.Z,{children:t?(0,y.jsx)(m.Z,{id:"edit-user"}):(0,y.jsx)(m.Z,{id:"new-user"})}),(0,y.jsx)(F.Z,{}),(0,y.jsx)(v.Z,{sx:{p:2.5},children:(0,y.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,y.jsxs)(o.ZP,{item:!0,xs:12,md:3,children:[(0,y.jsx)(l.Z,{direction:"row",justifyContent:"center",sx:{mt:3},children:(0,y.jsx)(I.Z,{htmlFor:"change-avtar",sx:{position:"relative",borderRadius:"50%",overflow:"hidden","&:hover .MuiBox-root":{opacity:1},cursor:"pointer"},children:(0,y.jsx)(C.Z,{alt:"Avatar 1",src:X("./avatar-".concat(2,".png")),sx:{width:72,height:72,border:"1px dashed"}})})}),(0,y.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,y.jsx)(o.ZP,{item:!0,sx:{display:"flex",marginRight:1},children:(0,y.jsx)(L.Z,{color:"success",size:10})}),(0,y.jsx)(b.Z,{variant:"subtitle1",children:null===t||void 0===t?void 0:t.role})]})]}),(0,y.jsx)(o.ZP,{item:!0,xs:12,md:8,children:(0,y.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsxs)(l.Z,{spacing:1.25,children:[(0,y.jsx)(H.Z,{htmlFor:"username",children:(0,y.jsx)(m.Z,{id:"name"})}),(0,y.jsx)(R.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,id:"username"},re("username")),{},{error:Boolean(ee.username&&$.username),helperText:ee.username&&$.username}))]})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsxs)(l.Z,{spacing:1.25,children:[(0,y.jsx)(H.Z,{htmlFor:"email",children:(0,y.jsx)(m.Z,{id:"email"})}),(0,y.jsx)(R.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,id:"email",placeholder:"Enter Customer Email"},re("email")),{},{error:Boolean(ee.email&&$.email),helperText:ee.email&&$.email}))]})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsxs)(l.Z,{spacing:1.25,children:[(0,y.jsx)(H.Z,{htmlFor:"phone",children:(0,y.jsx)(m.Z,{id:"phone"})}),(0,y.jsx)(R.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,id:"phone",type:"number",placeholder:"Enter Customer Number"},re("phone")),{},{error:Boolean(ee.phone&&$.phone),helperText:ee.phone&&$.phone}))]})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsxs)(l.Z,{spacing:1.25,children:[(0,y.jsx)(H.Z,{htmlFor:"role",children:(0,y.jsx)(m.Z,{id:"role"})}),(0,y.jsx)(T.Z,{fullWidth:!0,children:(0,y.jsx)(D.Z,(0,r.Z)((0,r.Z)({id:"column-hiding",displayEmpty:!0},re("role")),{},{onChange:function(e){console.log("Selected role:",e.target.value),se("role",e.target.value)},input:(0,y.jsx)(_.Z,{id:"select-column-hiding",placeholder:"Sort by"}),renderValue:function(e){return e?(0,y.jsx)(b.Z,{variant:"subtitle2",children:e.libelle}):(0,y.jsx)(b.Z,{variant:"subtitle1",children:(0,y.jsx)(m.Z,{id:"select-role"})})},children:Z.map((function(e){return(0,y.jsx)(E.Z,{value:e,children:(0,y.jsx)(M.Z,{primary:e.libelle})},e.id)}))}))}),ee.role&&$.role&&(0,y.jsx)(z.Z,{error:!0,id:"standard-weight-helper-text-email-login",sx:{pl:1.75},children:$.role})]})}),t&&(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsxs)(l.Z,{spacing:1.25,children:[(0,y.jsx)(H.Z,{htmlFor:"active",children:(0,y.jsx)(m.Z,{id:"status"})}),(0,y.jsxs)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,y.jsx)(b.Z,{variant:"subtitle2",children:(0,y.jsx)(m.Z,{id:"active-account"})}),(0,y.jsx)(N.Z,{edge:"end",onChange:function(e,n){return function(){n.setFieldValue(e,!n.values[e])}}("active",U),checked:!(null!==(n=U.values)&&void 0!==n&&n.active),inputProps:{"aria-labelledby":"switch-list-label-sctp"}})]})]})})]})})]})}),(0,y.jsx)(F.Z,{}),(0,y.jsx)(A.Z,{sx:{p:2.5},children:(0,y.jsxs)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,y.jsx)(o.ZP,{item:!0,children:!j&&(0,y.jsx)(G.Z,{title:"Delete Customer",placement:"top",children:(0,y.jsx)(q.Z,{onClick:function(){return p(!0)},size:"large",color:"error",disabled:!0,children:(0,y.jsx)(w.Z,{})})})}),(0,y.jsx)(o.ZP,{item:!0,children:(0,y.jsxs)(l.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,y.jsx)(a.Z,{color:"error",onClick:i,children:(0,y.jsx)(m.Z,{id:"cancel"})}),(0,y.jsx)(a.Z,{type:"submit",variant:"contained",disabled:te,children:t?(0,y.jsx)(m.Z,{id:"edit"}):(0,y.jsx)(m.Z,{id:"create"})})]})})]})})]})}),(0,y.jsx)(K,{setValues:ie,user:t,page:c,isCreating:j})]}),!j&&(0,y.jsx)(S,{title:t.username,open:h,handleClose:function(){p(!h),i()}})]})},ee=t(24813),ne=t(24076),te=t(67478),re=t(48310),se=t(67216),ie=function(e){var n=e.data,t=(0,i.Z)(),r=(0,ee.Z)(t.breakpoints.down("md"));return(0,y.jsx)(ne.Z,{sx:{"&:hover":{bgcolor:"transparent !important"},overflow:"hidden"},children:(0,y.jsx)(te.Z,{colSpan:8,sx:{p:2.5,overflow:"hidden"},children:(0,y.jsx)(p.Z,{type:"slide",direction:"down",in:!0,children:(0,y.jsx)(o.ZP,{container:!0,spacing:2.5,sx:{pl:{xs:0,sm:5,md:6,lg:10,xl:12}},children:(0,y.jsx)(o.ZP,{item:!0,xs:12,sm:7,md:8,lg:8,xl:9,children:(0,y.jsxs)(l.Z,{spacing:2.5,children:[(0,y.jsx)(x.Z,{title:"Personal Details",children:(0,y.jsxs)(re.Z,{sx:{py:0},children:[(0,y.jsx)(se.ZP,{divider:!r,children:(0,y.jsx)(o.ZP,{container:!0,spacing:3,children:(0,y.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,y.jsxs)(l.Z,{spacing:.5,children:[(0,y.jsx)(b.Z,{color:"secondary",children:"Full Name"}),(0,y.jsx)(b.Z,{children:n.username})]})})})}),(0,y.jsx)(se.ZP,{divider:!r,children:(0,y.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,y.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,y.jsxs)(l.Z,{spacing:.5,children:[(0,y.jsx)(b.Z,{color:"secondary",children:"Country"}),(0,y.jsx)(b.Z,{children:n.role})]})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,y.jsxs)(l.Z,{spacing:.5,children:[(0,y.jsx)(b.Z,{color:"secondary",children:"Zip Code"}),(0,y.jsx)(b.Z,{children:(0,y.jsx)(u.HH,{displayType:"text",format:"+237 # ## ## ## ##",mask:"_",defaultValue:n.phone})})]})})]})}),(0,y.jsx)(se.ZP,{children:(0,y.jsxs)(l.Z,{spacing:.5,children:[(0,y.jsx)(b.Z,{color:"secondary",children:"Address"}),(0,y.jsx)(b.Z,{children:n.address})]})})]})}),(0,y.jsx)(x.Z,{title:"About me",children:(0,y.jsxs)(b.Z,{color:"secondary",children:["Hello, I\u2019m ",n.username," ",n.role," based in international company"]})})]})})})})})})},le=t(2244),ae=t(27937),oe=t(66835),ce=t(23477),de=t(57861),ue=t(17551),xe=t(45110),he=t(35397),pe=t(82138);var Ze=function(e){var n=e.columns,t=e.data,o=e.getHeaderProps,c=e.renderRowSubComponent,d=e.handleAdd,u=(0,i.Z)(),x=(0,ee.Z)(u.breakpoints.down("sm")),h=(0,s.useMemo)((function(){return he.KR}),[]),p=(0,xe.useTable)({columns:n,data:t,filterTypes:h,initialState:{pageIndex:0,pageSize:10}},xe.useGlobalFilter,xe.useFilters,xe.useSortBy,xe.useExpanded,xe.usePagination,xe.useRowSelect),j=p.getTableProps,g=p.getTableBodyProps,f=p.headerGroups,v=p.prepareRow,b=p.setHiddenColumns,C=p.visibleColumns,w=p.page,S=p.state,P=S.globalFilter,k=S.selectedRowIds,F=S.expanded,I=p.preGlobalFilteredRows,H=p.setGlobalFilter,R=p.selectedFlatRows;return(0,s.useEffect)((function(){x&&b(["phone","visits","email","active"])}),[x]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Z.c,{selected:Object.keys(k).length}),(0,y.jsxs)(l.Z,{spacing:3,children:[(0,y.jsxs)(l.Z,{direction:x?"column":"row",spacing:1,justifyContent:"space-between",alignItems:"center",sx:{p:3,pb:0},children:[(0,y.jsx)(he.KO,{preGlobalFilteredRows:I,globalFilter:P,setGlobalFilter:H,size:"small"}),(0,y.jsxs)(l.Z,{direction:x?"column":"row",alignItems:"center",spacing:1,children:[(0,y.jsx)(a.Z,{variant:"contained",startIcon:(0,y.jsx)(pe.Z,{}),onClick:d,size:"small",children:(0,y.jsx)(m.Z,{id:"add-user"})}),(0,y.jsx)(Z.ZZ,{data:R.length>0?R.map((function(e){return e.original})):t,filename:"user-list.csv"})]})]}),(0,y.jsxs)(oe.Z,(0,r.Z)((0,r.Z)({},j()),{},{children:[(0,y.jsx)(ce.Z,{children:f.map((function(e,n){return(0,y.jsx)(ne.Z,(0,r.Z)((0,r.Z)({},e.getHeaderGroupProps()),{},{sx:{"& > th:first-of-type":{width:"58px"}},children:null===e||void 0===e?void 0:e.headers.map((function(e,n){return(0,y.jsx)(te.Z,(0,r.Z)((0,r.Z)({},e.getHeaderProps([{className:e.className},o(e)])),{},{children:(0,y.jsx)(Z.RL,{column:e})}),n)}))}),n)}))}),(0,y.jsx)(de.Z,(0,r.Z)((0,r.Z)({},g()),{},{children:w.map((function(e,n){v(e);var t=e.getRowProps();return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)(ne.Z,(0,r.Z)((0,r.Z)({},e.getRowProps()),{},{onClick:function(){e.toggleRowSelected()},sx:{cursor:"pointer",bgcolor:e.isSelected?(0,ue.Fq)(u.palette.primary.lighter,.35):"inherit"},children:e.cells.map((function(e,n){return(0,y.jsx)(te.Z,(0,r.Z)((0,r.Z)({},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}),n)}))})),e.isExpanded&&c({row:e,rowProps:t,visibleColumns:C,expanded:F})]},n)}))}))]}))]})]})},me=t(47131),je=t(41627),ge=t(45460),fe=function(e){var n=e.row,t=e.setCustomer,r=e.setCustomerDeleteId,s=e.handleAdd,i=e.handleClose,a=e.theme;return(0,y.jsxs)(l.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,y.jsx)(G.Z,{title:"Edit",children:(0,y.jsx)(me.Z,{color:"primary",onClick:function(e){e.stopPropagation(),t(n.values),s()},children:(0,y.jsx)(je.Z,{twoToneColor:a.palette.primary.main})})}),(0,y.jsx)(G.Z,{title:"Delete",children:(0,y.jsx)(me.Z,{color:"error",disabled:!1,onClick:function(e){e.stopPropagation(),i(),r(n.values.username)},children:(0,y.jsx)(ge.Z,{twoToneColor:a.palette.error.main})})})]})},ve=t(66212),be=function(e){var n=e.value;return(0,y.jsx)(ve.Z,{color:n?"error":"success",label:(0,y.jsx)(m.Z,{id:n?"inactive":"active"}),size:"small",variant:"light"})},Ce=function(){var e=(0,s.useState)(!1),n=(0,P.Z)(e,2),t=n[0],r=n[1],i=(0,s.useState)(!1),l=(0,P.Z)(i,2),a=l[0],o=l[1],c=(0,s.useState)(null),d=(0,P.Z)(c,2),u=d[0],x=d[1],h=(0,s.useState)(),p=(0,P.Z)(h,2),Z=p[0],m=p[1],j=(0,s.useState)(1),g=(0,P.Z)(j,2),f=g[0],v=g[1];return{add:t,setAdd:r,open:a,setOpen:o,user:u,setUser:x,userDeleteId:Z,setUserDeleteId:m,currentPage:f,setCurrentPage:v,handleAdd:function(){r(!t),u&&!t&&x(null)},handleClose:function(){o(!a)}}},we=t(49998),ye=function(e){var n=e.row;return(0,y.jsx)(Z.YQ,(0,r.Z)({},n.getToggleRowSelectedProps()))},Se=function(e){var n=e.getToggleAllPageRowsSelectedProps;return(0,y.jsx)(Z.YQ,(0,r.Z)({indeterminate:!0},n()))},Pe=function(e){var n=e.value;return(0,y.jsx)(u.HH,{displayType:"text",format:"+237 # ## ## ## ##",mask:"_",defaultValue:n})},ke=function(){var e=(0,i.Z)(),n=(0,f.I0)(),t=Ce(),r=t.add,u=t.open,Z=t.user,v=t.setUser,b=t.userDeleteId,C=t.setUserDeleteId,w=t.currentPage,P=t.setCurrentPage,k=t.handleAdd,F=t.handleClose,I=(0,f.v9)((function(e){return e.account.list})),H=I.listStatus,R=I.accountsTab,T=I.nbPages,D=I.listError,_=(0,f.v9)((function(e){return e.account.create})).createStatus,E=(0,f.v9)((function(e){return e.account.edit})).editStatus,M=(0,s.useMemo)((function(){return[{title:"Row Selection",Header:Se,accessor:"selection",Cell:ye,disableSortBy:!0},{Header:"#",accessor:"id",className:"cell-center"},{Header:(0,y.jsx)(m.Z,{id:"name"}),accessor:"username"},{Header:(0,y.jsx)(m.Z,{id:"role"}),accessor:"role"},{Header:(0,y.jsx)(m.Z,{id:"email"}),accessor:"email"},{Header:(0,y.jsx)(m.Z,{id:"phone"}),accessor:"phone",Cell:Pe},{Header:(0,y.jsx)(m.Z,{id:"created"}),accessor:"created_at",Cell:function(e){var n=e.value;return(0,we.o0)(n)}},{Header:(0,y.jsx)(m.Z,{id:"status"}),accessor:"is_block",Cell:be},{Header:"Actions",className:"cell-center",disableSortBy:!0,Cell:function(n){var t=n.row;return(0,y.jsx)(fe,{row:t,setCustomer:v,setCustomerDeleteId:C,handleAdd:k,handleClose:F,theme:e})}}]}),[e]);console.log(M),(0,s.useEffect)((function(){n((0,j.t)({page:w,nb:Q.iS}))}),[w]),(0,s.useEffect)((function(){n((0,ae.j)({page:1}))}),[]);var z=(0,s.useCallback)((function(e){var n=e.row;return(0,y.jsx)(ie,{data:R[n.id]})}),[R]);return H==g.J_.loading||_==g.J_.loading||E==g.J_.loading?(0,y.jsx)(le.Z,{title:(0,y.jsx)(m.Z,{id:"loading"})}):H==g.J_.error?(0,y.jsx)(le.Z,{title:(0,y.jsx)(m.Z,{id:D})}):(0,y.jsxs)(x.Z,{content:!1,children:[(0,y.jsx)(h.Z,{children:R.length>0?(0,y.jsx)(Ze,{columns:M,data:R,handleAdd:k,getHeaderProps:function(e){return e.getSortByToggleProps()},renderRowSubComponent:z}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.Z,{direction:"row",justifyContent:"flex-end",spacing:1,sx:{p:2},children:(0,y.jsx)(a.Z,{variant:"contained",startIcon:(0,y.jsx)(pe.Z,{}),onClick:k,size:"small",children:(0,y.jsx)(m.Z,{id:"add-user"})})}),(0,y.jsx)(le.Z,{title:(0,y.jsx)(m.Z,{id:"no-user"})})]})}),(0,y.jsx)(o.ZP,{sx:{p:2,py:3},colSpan:9,children:(0,y.jsx)(o.ZP,{item:!0,sx:{mt:{xs:2,sm:0}},children:(0,y.jsx)(c.Z,{count:T,page:w,onChange:function(e,n){P(n)},color:"primary",variant:"combined"})})}),(0,y.jsx)(S,{title:b,open:u,handleClose:F}),(0,y.jsx)(d.Z,{maxWidth:"sm",TransitionComponent:p.S,keepMounted:!0,fullWidth:!0,onClose:k,open:r,sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},"aria-describedby":"alert-dialog-slide-description",children:(0,y.jsx)($,{user:Z,onCancel:k,page:w})})]})}},49998:function(e,n,t){t.d(n,{IS:function(){return s},V7:function(){return l},_Q:function(){return a},bm:function(){return r},o0:function(){return i}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(n,"-").concat(t,"-").concat(r)};function s(){var e=new Date,n=e.getDay(),t=e.getDate()-n+(0===n?-6:1);return new Date(e.setDate(t))}function i(e){var n=new Date(e),t=n.getDate().toString().padStart(2,"0"),r=(n.getMonth()+1).toString().padStart(2,"0"),s=n.getFullYear(),i=n.getHours().toString().padStart(2,"0"),l=n.getMinutes().toString().padStart(2,"0");return"".concat(t,"/").concat(r,"/").concat(s," ").concat(i,":").concat(l)}function l(){var e=new Date,n=new Date(e),t=7-e.getDay();return n.setDate(e.getDate()+t),n.setHours(23,59,59,999),n}function a(e){var n=new Date(e.debut),t=new Date(e.fin),r=n.getDate().toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0");return"".concat(r," - ").concat(s,"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())}},50294:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(1413),s=t(47313),i={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:n}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:n}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:e}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:e}}]}},name:"eye",theme:"twotone"},l=t(20262),a=function(e,n){return s.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:i}))};a.displayName="EyeTwoTone";var o=s.forwardRef(a)}}]);