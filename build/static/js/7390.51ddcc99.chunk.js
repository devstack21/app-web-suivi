"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[7390],{2244:function(e,i,r){r.d(i,{Z:function(){return p}});var n=r(9019),t=r(57829),s=r(42832),c=r(61113),a=r(93405),o=r(48119),l=r(84488),d=r(89688),x=r(73248),u=r(46417),h=function(){return(0,u.jsx)(d.Z,{border:!1,content:!1,boxShadow:!0,sx:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",borderRadius:2},children:(0,u.jsx)(a.Z,{sx:{p:2},children:(0,u.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,u.jsx)(n.ZP,{item:!0,xs:12,children:(0,u.jsxs)(s.Z,{flexDirection:"row",alignItems:"center",children:[(0,u.jsx)(o.Z,{children:(0,u.jsx)(x.Z,{style:{visibility:"inherit"}})}),(0,u.jsxs)(s.Z,{sx:{width:"100%",pl:2.5},children:[(0,u.jsx)(l.Z,{animation:!1,height:20,width:"80%"}),(0,u.jsx)(l.Z,{animation:!1,height:20,width:"40%"})]})]})}),(0,u.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,u.jsx)(l.Z,{animation:!1,height:20,width:45}),(0,u.jsx)(l.Z,{animation:!1,height:20}),(0,u.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,u.jsx)(l.Z,{animation:!1,height:20,width:90}),(0,u.jsx)(l.Z,{animation:!1,height:20,width:38})]})]}),(0,u.jsx)(n.ZP,{item:!0,xs:12,children:(0,u.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,u.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,u.jsx)(n.ZP,{item:!0,children:(0,u.jsx)(l.Z,{animation:!1,height:20,width:40})}),(0,u.jsx)(n.ZP,{item:!0,children:(0,u.jsx)(l.Z,{animation:!1,height:17,width:20})})]}),(0,u.jsx)(l.Z,{animation:!1,height:32,width:47})]})})]})})})},p=function(e){var i=e.title;return(0,u.jsx)(n.ZP,{container:!0,spacing:3,children:(0,u.jsx)(n.ZP,{item:!0,xs:12,children:(0,u.jsx)(t.Z,{sx:{p:{xs:2.5,sm:6},height:"calc(100vh - 192px)",display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"transparent"},children:(0,u.jsxs)(n.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,u.jsx)(n.ZP,{item:!0,children:(0,u.jsxs)(t.Z,{sx:{ml:-9,mb:{xs:-8,sm:-5}},children:[(0,u.jsx)(t.Z,{sx:{position:"relative"},children:(0,u.jsx)(h,{})}),(0,u.jsx)(t.Z,{sx:{position:"relative",top:-120,left:72},children:(0,u.jsx)(h,{})})]})}),(0,u.jsx)(n.ZP,{item:!0,children:(0,u.jsx)(s.Z,{spacing:1,children:(0,u.jsx)(c.Z,{align:"center",variant:"h4",children:i})})})]})})})})}},67390:function(e,i,r){r.r(i);var n=r(93433),t=r(1413),s=r(29439),c=r(47313),a=r(35604),o=r(21933),l=r(47825),d=r(9019),x=r(24631),u=r(1550),h=r(15103),p=r(6159),Z=r(51405),j=r(66212),m=r(69099),f=r(89688),g=r(85554),b=r(88298),v=r(2244),_=r(71325),k=r(77970),P=r(68098),w=r(35533),S=r(21157),C=r(45899),y=r(46417),q=o.Ry({libelle:o.Z_().required((0,y.jsx)(_.Z,{id:"axeparcours-formLibelle-required"})),description:o.Z_().required((0,y.jsx)(_.Z,{id:"axeparcours-formDescription-required"})),id_checkpoint:o.Z_().required((0,y.jsx)(_.Z,{id:"axeparcours-formid_checkpoint-required"}))});i.default=function(){var e=(0,g.I0)(),i=(0,g.v9)((function(e){return e.checkpoint.list})),r=i.listStatus,o=i.checkpointsTab,J=i.nbPages,E=i.listError,I=(0,g.v9)((function(e){return e.axeparcours.create})),T=I.createStatus,D=I.createError,W=(0,c.useState)([]),B=(0,s.Z)(W,2),R=B[0],A=B[1],L=(0,c.useState)([]),V=(0,s.Z)(L,2),F=V[0],N=V[1],z=(0,c.useState)(1),G=(0,s.Z)(z,2),H=G[0],K=G[1];(0,c.useEffect)((function(){e((0,S.k)({page:H}))}),[]);var M=(0,a.TA)({initialValues:{libelle:"",description:"",id_checkpoint:""},validationSchema:q,onSubmit:function(i){var r=(0,t.Z)((0,t.Z)({},i),{},{checkpoints:F});e((0,w.NS)(r))}});return r==b.J_.loading||T==b.J_.loading?(0,y.jsx)(v.Z,{title:(0,y.jsx)(_.Z,{id:"loading"})}):E==b.J_.error?(0,y.jsx)(v.Z,{title:(0,y.jsx)(_.Z,{id:E})}):D==b.J_.error?(0,y.jsx)(v.Z,{title:(0,y.jsx)(_.Z,{id:D})}):(0,y.jsx)(l.Z,{maxWidth:"sm",children:(0,y.jsx)(f.Z,{title:"Autocomplete",children:(0,y.jsx)("form",{onSubmit:M.handleSubmit,children:(0,y.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsx)(x.Z,{name:"libelle",label:(0,y.jsx)(_.Z,{id:"axeparcours-formLibelle"}),type:"text",value:M.values.libelle,onChange:M.handleChange,fullWidth:!0,error:M.touched.libelle&&Boolean(M.errors.libelle),helperText:M.touched.libelle&&M.errors.libelle})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsx)(x.Z,{name:"description",label:(0,y.jsx)(_.Z,{id:"axeparcours-formDescription"}),type:"text",value:M.values.description,onChange:M.handleChange,fullWidth:!0,error:M.touched.description&&Boolean(M.errors.description),helperText:M.touched.description&&M.errors.description})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsxs)(u.Z,{fullWidth:!0,children:[(0,y.jsx)(h.Z,{children:(0,y.jsx)(_.Z,{id:"axeparcours-formCheckpoint"})}),(0,y.jsx)(p.Z,{name:"id_checkpoint",value:M.values.id_checkpoint,onChange:function(e){M.handleChange(e),function(e){var i=o.find((function(i){return i.id===e}));R.some((function(i){return i.id===e}))||(A((function(e){return[].concat((0,n.Z)(e),[i])})),N((function(i){return[].concat((0,n.Z)(i),[e])})))}(e.target.value)},error:M.touched.id_checkpoint&&Boolean(M.errors.id_checkpoint),helperText:M.touched.id_checkpoint&&M.errors.id_checkpoint,children:o.map((function(e,i){return(0,y.jsx)(Z.Z,{value:e.id,children:e.libelle},i)}))})]})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsx)(k.Z,{count:J,page:H,onChange:function(i,r){K(r),e((0,P.q_)({page:r,nbre_ligne:2})),M.setFieldValue("id_checkpoint","")}})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,children:R.map((function(e,i){return(0,y.jsx)(j.Z,{label:e.libelle,onDelete:function(){return i=e,A((function(e){return e.filter((function(e){return e!==i}))})),void N((function(e){return e.filter((function(e){return e!==i.id}))}));var i}},i)}))}),(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",children:(0,y.jsx)(_.Z,{id:"detailrapport-valider"})})}),(0,y.jsx)(C.Z,{})]})})})})}},45899:function(e,i,r){var n=r(36287),t=r(47313),s=r(71325),c=r(85554),a=r(35533),o=r(85387),l=r(68098),d=r(18530),x=r(88298),u=r(58467),h=r(46417);i.Z=function(){var e=(0,c.v9)((function(e){return e.axeparcours.create})),i=e.createStatus,r=e.createError,p=(0,c.v9)((function(e){return e.axeparcours.edit})),Z=p.editStatus,j=p.editError,m=(0,c.I0)(),f=(0,u.s0)();return(0,t.useEffect)((function(){i==x.J_.succeed&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:"add-axeparcours-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),m((0,l.q_)({page:1,nbre_ligne:n.iS})),m((0,a.ck)()),f("/apps/axeparcours/list/")),i==x.J_.error&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:r}),variant:"alert",alert:{color:"error"},close:!1})),m((0,a.ck)()))}),[i]),(0,t.useEffect)((function(){console.log("status edit",Z),Z==x.J_.succeed&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:"edit-axeparcours-succeed"}),variant:"alert",alert:{color:"success"},close:!1})),m((0,l.q_)({page:1,nbre_ligne:n.iS})),m((0,a.ck)()),f("/apps/axeparcours/list/")),Z==x.J_.error&&(m((0,d.ss)({open:!0,message:(0,h.jsx)(s.Z,{id:j}),variant:"alert",alert:{color:"error"},close:!1})),m((0,o.yR)()))}),[Z]),null}}}]);